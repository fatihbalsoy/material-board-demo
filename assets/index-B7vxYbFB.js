(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))p(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const e of r.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&p(e)}).observe(document,{childList:!0,subtree:!0});function i(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function p(l){if(l.ep)return;l.ep=!0;const r=i(l);fetch(l.href,r)}})();const Ct=function(){var t;return typeof process<"u"&&((t=process.release)==null?void 0:t.name)==="node"?"NODE":typeof window<"u"?"WEB":typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?"WORKER":"NODE"}();if(Ct==="NODE"){let t=function(i){return new Promise(function(p,l){i.onload=i.onerror=function(r){i.onload=i.onerror=null,r.type==="load"?p(i.result):l(new Error("Failed to read the blob/file"))}})},s=function(){const i=new Uint8Array([1,2,3,4]),p=new File([i],"test").stream();try{return p.getReader({mode:"byob"}),!0}catch{return!1}};if(typeof File>"u"){class i extends Blob{constructor(l,r,e){super(l);let f;e!=null&&e.lastModified&&(f=new Date),(!f||isNaN(f.getFullYear()))&&(f=new Date),this.lastModifiedDate=f,this.lastModified=f.getMilliseconds(),this.name=r||""}}global.File=i}typeof Blob.prototype.arrayBuffer>"u"&&(Blob.prototype.arrayBuffer=function(){const i=new FileReader;return i.readAsArrayBuffer(this),t(i)}),typeof Blob.prototype.text>"u"&&(Blob.prototype.text=function(){const i=new FileReader;return i.readAsText(this),t(i)}),(typeof Blob.prototype.stream>"u"||!s())&&(Blob.prototype.stream=function(){let i=0;const p=this;return new ReadableStream({type:"bytes",autoAllocateChunkSize:512*1024,async pull(l){const r=l.byobRequest.view,e=await p.slice(i,i+r.byteLength).arrayBuffer(),f=new Uint8Array(e);new Uint8Array(r.buffer).set(f);const m=f.byteLength;l.byobRequest.respond(m),i+=m,i>=p.size&&l.close()}})})}if(Ct==="NODE"&&typeof CustomEvent>"u"){class t extends Event{constructor(i,p={}){super(i,p),this.detail=p.detail}initCustomEvent(){}}globalThis.CustomEvent=t}const Dt=["db.php","plugins/akismet","plugins/hello.php","plugins/wordpress-importer","mu-plugins/sqlite-database-integration","mu-plugins/playground-includes","mu-plugins/0-playground.php","mu-plugins/0-sqlite.php","themes/twentytwenty","themes/twentytwentyone","themes/twentytwentytwo","themes/twentytwentythree","themes/twentytwentyfour","themes/twentytwentyfive","themes/twentytwentysix"],It=Symbol("SleepFinished");function hs(t){return new Promise(s=>{setTimeout(()=>s(It),t)})}class ms extends Error{constructor(){super("Acquiring lock timed out")}}class ys{constructor({concurrency:s,timeout:i}){this._running=0,this.concurrency=s,this.timeout=i,this.queue=[]}get remaining(){return this.concurrency-this.running}get running(){return this._running}async acquire(){for(;;)if(this._running>=this.concurrency){const s=new Promise(i=>{this.queue.push(i)});this.timeout!==void 0?await Promise.race([s,hs(this.timeout)]).then(i=>{if(i===It)throw new ms}):await s}else{this._running++;let s=!1;return()=>{s||(s=!0,this._running--,this.queue.length>0&&this.queue.shift()())}}}async run(s){const i=await this.acquire();try{return await s()}finally{i()}}}function ne(...t){function s(r){return r.substring(r.length-1)==="/"}let i=t.join("/");const p=i[0]==="/",l=s(i);return i=Ut(i),!i&&!p&&(i="."),i&&l&&!s(i)&&(i+="/"),i}function Wt(t){if(t==="/")return"/";t=Ut(t);const s=t.lastIndexOf("/");return s===-1?"":s===0?"/":t.substr(0,s)}function Ut(t){const s=t[0]==="/";return t=gs(t.split("/").filter(i=>!!i),!s).join("/"),(s?"/":"")+t.replace(/\/$/,"")}function gs(t,s){let i=0;for(let p=t.length-1;p>=0;p--){const l=t[p];l==="."?t.splice(p,1):l===".."?(t.splice(p,1),i++):i&&(t.splice(p,1),i--)}if(s)for(;i;i--)t.unshift("..");return t}function Mt(t=36,s="!@#$%^&*()_+=-[]/.,<>?"){const i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"+s;let p="";for(let l=t;l>0;--l)p+=i[Math.floor(Math.random()*i.length)];return p}function Ps(){return Mt(36,"-_")}function pe(t){return`json_decode(base64_decode('${bs(JSON.stringify(t))}'), true)`}function lt(t){const s={};for(const i in t)s[i]=pe(t[i]);return s}function bs(t){return ws(new TextEncoder().encode(t))}function ws(t){const s=String.fromCodePoint(...t);return btoa(s)}const vs="playground-log",ks=(t,...s)=>{ce.dispatchEvent(new CustomEvent(vs,{detail:{log:t,args:s}}))},Os=(t,...s)=>{switch(typeof t.message=="string"?Reflect.set(t,"message",bt(t.message)):t.message.message&&typeof t.message.message=="string"&&Reflect.set(t.message,"message",bt(t.message.message)),t.severity){case"Debug":console.debug(t.message,...s);break;case"Info":console.info(t.message,...s);break;case"Warn":console.warn(t.message,...s);break;case"Error":console.error(t.message,...s);break;case"Fatal":console.error(t.message,...s);break;default:console.log(t.message,...s)}},_s=t=>t instanceof Error?[t.message,t.stack].join(`
`):JSON.stringify(t,null,2),Bt=[],At=t=>{Bt.push(t)},zt=t=>{if(t.raw===!0)At(t.message);else{const s=Ts(typeof t.message=="object"?_s(t.message):t.message,t.severity??"Info",t.prefix??"JavaScript");At(s)}};class Es extends EventTarget{constructor(s=[]){super(),this.handlers=s,this.fatalErrorEvent="playground-fatal-error"}getLogs(){return this.handlers.includes(zt)?[...Bt]:(this.error(`Logs aren't stored because the logToMemory handler isn't registered.
				If you're using a custom logger instance, make sure to register logToMemory handler.
			`),[])}logMessage(s,...i){for(const p of this.handlers)p(s,...i)}log(s,...i){this.logMessage({message:s,severity:void 0,prefix:"JavaScript",raw:!1},...i)}debug(s,...i){this.logMessage({message:s,severity:"Debug",prefix:"JavaScript",raw:!1},...i)}info(s,...i){this.logMessage({message:s,severity:"Info",prefix:"JavaScript",raw:!1},...i)}warn(s,...i){this.logMessage({message:s,severity:"Warn",prefix:"JavaScript",raw:!1},...i)}error(s,...i){this.logMessage({message:s,severity:"Error",prefix:"JavaScript",raw:!1},...i)}}const $s=()=>{try{}catch{}return[zt,Os,ks]},ce=new Es($s()),bt=t=>t.replace(/\t/g,""),Ts=(t,s,i)=>{const p=new Date,l=new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"2-digit",timeZone:"UTC"}).format(p).replace(/ /g,"-"),r=new Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1,timeZone:"UTC",timeZoneName:"short"}).format(p),e=l+" "+r;return t=bt(t),`[${e}] ${i} ${s}: ${t}`};let ht=0;const qt="/wordpress/wp-content/debug.log",js=async t=>await t.fileExists(qt)?await t.readFileAsText(qt):"",As=(t,s)=>{s.addEventListener("request.end",async()=>{const i=await js(s);if(i.length>ht){const p=i.substring(ht);t.logMessage({message:p,raw:!0}),ht=i.length}}),s.addEventListener("request.error",i=>{i=i,i.error&&(t.logMessage({message:`${i.error.message} ${i.error.stack}`,severity:"Fatal",prefix:i.source==="request"?"PHP":"WASM Crash"}),t.dispatchEvent(new CustomEvent(t.fatalErrorEvent,{detail:{logs:t.getLogs(),source:i.source}})))})},Ot=async(t,{pluginPath:s,pluginName:i},p)=>{p==null||p.tracker.setCaption(`Activating ${i||s}`);const l=await t.documentRoot,r=await t.run({code:`<?php
			define( 'WP_ADMIN', true );
			require_once( ${pe(l)}. "/wp-load.php" );
			require_once( ${pe(l)}. "/wp-admin/includes/plugin.php" );

			// Set current user to admin
			wp_set_current_user( get_users(array('role' => 'Administrator') )[0]->ID );

			$plugin_path = ${pe(s)};
			$response = false;
			if (!is_dir($plugin_path)) {
				$response = activate_plugin($plugin_path);
			}

			// Activate plugin by name if activation by path wasn't successful
			if ( null !== $response ) {
				foreach ( ( glob( $plugin_path . '/*.php' ) ?: array() ) as $file ) {
					$info = get_plugin_data( $file, false, false );
					if ( ! empty( $info['Name'] ) ) {
						$response = activate_plugin( $file );
						break;
					}
				}
			}

			if ( null === $response ) {
				die('Plugin activated successfully');
			} else if ( is_wp_error( $response ) ) {
				throw new Exception( $response->get_error_message() );
			}

			throw new Exception( 'Unable to activate plugin' );
		`});if(r.text!=="Plugin activated successfully")throw ce.debug(r),new Error(`Plugin ${s} could not be activated – WordPress exited with no error. Sometimes, when $_SERVER or site options are not configured correctly, WordPress exits early with a 301 redirect. Inspect the "debug" logs in the console for more details`)},Vt=async(t,{themeFolderName:s},i)=>{i==null||i.tracker.setCaption(`Activating ${s}`);const p=await t.documentRoot,l=`${p}/wp-content/themes/${s}`;if(!await t.fileExists(l))throw new Error(`
			Couldn't activate theme ${s}.
			Theme not found at the provided theme path: ${l}.
			Check the theme path to ensure it's correct.
			If the theme is not installed, you can install it using the installTheme step.
			More info can be found in the Blueprint documentation: https://wordpress.github.io/wordpress-playground/blueprints/steps/#ActivateThemeStep
		`);const r=await t.run({code:`<?php
			define( 'WP_ADMIN', true );
			require_once( getenv('docroot') . "/wp-load.php" );

			// Set current user to admin
			wp_set_current_user( get_users(array('role' => 'Administrator') )[0]->ID );

			switch_theme( getenv('themeFolderName') );

			if( wp_get_theme()->get_stylesheet() !== getenv('themeFolderName') ) {
				throw new Exception( 'Theme ' . getenv('themeFolderName') . ' could not be activated.' );				
			}
			die('Theme activated successfully');
		`,env:{docroot:p,themeFolderName:s}});if(r.text!=="Theme activated successfully")throw ce.debug(r),new Error(`Theme ${s} could not be activated – WordPress exited with no error. Sometimes, when $_SERVER or site options are not configured correctly, WordPress exits early with a 301 redirect. Inspect the "debug" logs in the console for more details`)},qs=async(t,{code:s})=>await t.run({code:s}),Ls=async(t,{options:s})=>await t.run(s),Ht=async(t,{path:s})=>{await t.unlink(s)},Rs=async(t,{sql:s},i)=>{i==null||i.tracker.setCaption("Executing SQL Queries");const p=`/tmp/${Ps()}.sql`;await t.writeFile(p,new Uint8Array(await s.arrayBuffer()));const l=await t.documentRoot,r=lt({docroot:l,sqlFilename:p}),e=await t.run({code:`<?php
		require_once ${r.docroot} . '/wp-load.php';

		$handle = fopen(${r.sqlFilename}, 'r');
		$buffer = '';

		global $wpdb;

		while ($bytes = fgets($handle)) {
			$buffer .= $bytes;

			if (!feof($handle) && substr($buffer, -1, 1) !== "
") {
				continue;
			}

			$wpdb->query($buffer);
			$buffer = '';
		}
	`});return await Ht(t,{path:p}),e},wt=async(t,{request:s})=>{ce.warn('Deprecated: The Blueprint step "request" is deprecated and will be removed in a future release.');const i=await t.request(s);if(i.httpStatusCode>399||i.httpStatusCode<200)throw ce.warn("WordPress response was",{response:i}),new Error(`Request failed with status ${i.httpStatusCode}`);return i},Ss=`<?php

/**
 * Rewrites the wp-config.php file to ensure specific constants are defined
 * with specific values.
 * 
 * Example:
 * 
 * \`\`\`php
 * <?php
 * define('WP_DEBUG', true);
 * // The third define() argument is also supported:
 * define('SAVEQUERIES', false, true);
 * 
 * // Expression
 * define(true ? 'WP_DEBUG_LOG' : 'WP_DEBUG_LOG', 123);
 * 
 * // Guarded expressions shouldn't be wrapped twice
 * if(!defined(1 ? 'A' : 'B')) {
 *     define(1 ? 'A' : 'B', 0);
 * }
 * 
 * // More advanced expression
 * define((function() use($x) {
 *     return [$x, 'a'];
 * })(), 123);
 * \`\`\`
 * 
 * Rewritten with
 * 
 *     $constants = [
 *        'WP_DEBUG' => false,
 *        'WP_DEBUG_LOG' => true,
 *        'SAVEQUERIES' => true,
 *        'NEW_CONSTANT' => "new constant",
 *     ];
 * 
 * \`\`\`php
 * <?php
 * define('WP_DEBUG_LOG',true);
 * define('NEW_CONSTANT','new constant');
 * ?><?php
 * define('WP_DEBUG',false);
 * // The third define() argument is also supported:
 * define('SAVEQUERIES',true, true);
 * 
 * // Expression
 * if(!defined($const ? 'WP_DEBUG_LOG' : 'WP_DEBUG_LOG')) {
 *      define($const ? 'WP_DEBUG_LOG' : 'WP_DEBUG_LOG', 123);
 * }
 * 
 * // Guarded expressions shouldn't be wrapped twice
 * if(!defined(1 ? 'A' : 'B')) {
 *     define(1 ? 'A' : 'B', 0);
 * }
 * 
 * // More advanced expression
 * if(!defined((function() use($x) {
 *    return [$x, 'a'];
 * })())) {
 *     define((function() use($x) {
 *         return [$x, 'a'];
 *     })(), 123);
 * }
 * \`\`\`
 * 
 * @param mixed $content
 * @return string
 */
function rewrite_wp_config_to_define_constants($content, $constants = [])
{
    $tokens = array_reverse(token_get_all($content));
    $output = [];
    $defined_expressions = [];

    // Look through all the tokens and find the define calls
    do {
        $buffer = [];
        $name_buffer = [];
        $value_buffer = [];
        $third_arg_buffer = [];

        // Capture everything until the define call into output.
        // Capturing the define call into a buffer.
        // Example:
        //     <?php echo 'a'; define  (
        //     ^^^^^^^^^^^^^^^^^^^^^^
        //           output   |buffer
        while ($token = array_pop($tokens)) {
            if (is_array($token) && $token[0] === T_STRING && (strtolower($token[1]) === 'define' || strtolower($token[1]) === 'defined')) {
                $buffer[] = $token;
                break;
            }
            $output[] = $token;
        }

        // Maybe we didn't find a define call and reached the end of the file?
        if (!count($tokens)) {
            break;
        }

        // Keep track of the "defined" expressions that are already accounted for
        if($token[1] === 'defined') {
            $output[] = $token;
            $defined_expression = [];
            $open_parenthesis = 0;
            // Capture everything up to the opening parenthesis, including the parenthesis
            // e.g. defined  (
            //           ^^^^
            while ($token = array_pop($tokens)) {
                $output[] = $token;
                if ($token === "(") {
                    ++$open_parenthesis;
                    break;
                }
            }

            // Capture everything up to the closing parenthesis, including the parenthesis
            // e.g. defined  (
            //           ^^^^
            while ($token = array_pop($tokens)) {
                $output[] = $token;
                if ($token === ")") {
                    --$open_parenthesis;
                }
                if ($open_parenthesis === 0) {
                    break;
                }
                $defined_expression[] = $token;
            }

            $defined_expressions[] = stringify_tokens(skip_whitespace($defined_expression));
            continue;
        }

        // Capture everything up to the opening parenthesis, including the parenthesis
        // e.g. define  (
        //           ^^^^
        while ($token = array_pop($tokens)) {
            $buffer[] = $token;
            if ($token === "(") {
                break;
            }
        }

        // Capture the first argument – it's the first expression after the opening
        // parenthesis and before the comma:
        // Examples:
        //     define("WP_DEBUG", true);
        //            ^^^^^^^^^^^
        //
        //     define(count([1,2]) > 2 ? 'WP_DEBUG' : 'FOO', true);
        //            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        $open_parenthesis = 0;
        while ($token = array_pop($tokens)) {
            $buffer[] = $token;
            if ($token === "(" || $token === "[" || $token === "{") {
                ++$open_parenthesis;
            } elseif ($token === ")" || $token === "]" || $token === "}") {
                --$open_parenthesis;
            } elseif ($token === "," && $open_parenthesis === 0) {
                break;
            }

            // Don't capture the comma as a part of the constant name
            $name_buffer[] = $token;
        }

        // Capture everything until the closing parenthesis
        //     define("WP_DEBUG", true);
        //                       ^^^^^^
        $open_parenthesis = 0;
        $is_second_argument = true;
        while ($token = array_pop($tokens)) {
            $buffer[] = $token;
            if ($token === ")" && $open_parenthesis === 0) {
                // Final parenthesis of the define call.
                break;
            } else if ($token === "(" || $token === "[" || $token === "{") {
                ++$open_parenthesis;
            } elseif ($token === ")" || $token === "]" || $token === "}") {
                --$open_parenthesis;
            } elseif ($token === "," && $open_parenthesis === 0) {
                // This define call has more than 2 arguments! The third one is the
                // boolean value indicating $is_case_insensitive. Let's continue capturing
                // to $third_arg_buffer.
                $is_second_argument = false;
            }
            if ($is_second_argument) {
                $value_buffer[] = $token;
            } else {
                $third_arg_buffer[] = $token;
            }
        }

        // Capture until the semicolon
        //     define("WP_DEBUG", true)  ;
        //                             ^^^
        while ($token = array_pop($tokens)) {
            $buffer[] = $token;
            if ($token === ";") {
                break;
            }
        }

        // Decide whether $name_buffer is a constant name or an expression
        $name_token = null;
        $name_token_index = $token;
        $name_is_literal = true;
        foreach ($name_buffer as $k => $token) {
            if (is_array($token)) {
                if ($token[0] === T_WHITESPACE || $token[0] === T_COMMENT || $token[0] === T_DOC_COMMENT) {
                    continue;
                } else if ($token[0] === T_STRING || $token[0] === T_CONSTANT_ENCAPSED_STRING) {
                    $name_token = $token;
                    $name_token_index = $k;
                } else {
                    $name_is_literal = false;
                    break;
                }
            } else if ($token !== "(" && $token !== ")") {
                $name_is_literal = false;
                break;
            }
        }

        // We can't handle expressions as constant names. Let's wrap that define
        // call in an if(!defined()) statement, just in case it collides with
        // a constant name.
        if (!$name_is_literal) {
            // Ensure the defined expression is not already accounted for
            foreach ($defined_expressions as $defined_expression) {
                if ($defined_expression === stringify_tokens(skip_whitespace($name_buffer))) {
                    $output = array_merge($output, $buffer);
                    continue 2;
                }
            }
            $output = array_merge(
                $output,
                ["if(!defined("],
                $name_buffer,
                [")) {\\n     "],
                ['define('],
                $name_buffer,
                [','],
                $value_buffer,
                $third_arg_buffer,
                [");"],
                ["\\n}\\n"]
            );
            continue;
        }

        // Yay, we have a literal constant name in the buffer now. Let's
        // get its value:
        $name = eval('return ' . $name_token[1] . ';');

        // If the constant name is not in the list of constants we're looking,
        // we can ignore it.
        if (!array_key_exists($name, $constants)) {
            $output = array_merge($output, $buffer);
            continue;
        }

        // We now have a define() call that defines a constant we're looking for.
        // Let's rewrite its value to the one 
        $output = array_merge(
            $output,
            ['define('],
            $name_buffer,
            [','],
            [var_export($constants[$name], true)],
            $third_arg_buffer,
            [");"]
        );

        // Remove the constant from the list so we can process any remaining
        // constants later.
        unset($constants[$name]);
    } while (count($tokens));

    // Add any constants that weren't found in the file
    if (count($constants)) {
        $prepend = [
            "<?php \\n"
        ];
        foreach ($constants as $name => $value) {
            $prepend = array_merge(
                $prepend,
                [
                    "define(",
                    var_export($name, true),
                    ',',
                    var_export($value, true),
                    ");\\n"
                ]
            );
        }
        $prepend[] = "?>";
        $output = array_merge(
            $prepend,
            $output
        );
    }

    // Translate the output tokens back into a string
    return stringify_tokens($output);
}

function stringify_tokens($tokens) {
    $output = '';
    foreach ($tokens as $token) {
        if (is_array($token)) {
            $output .= $token[1];
        } else {
            $output .= $token;
        }
    }
    return $output;
}

function skip_whitespace($tokens) {
    $output = [];
    foreach ($tokens as $token) {
        if (is_array($token) && ($token[0] === T_WHITESPACE || $token[0] === T_COMMENT || $token[0] === T_DOC_COMMENT)) {
            continue;
        }
        $output[] = $token;
    }
    return $output;
}
`,rt=async(t,{consts:s,method:i="define-before-run"})=>{switch(i){case"define-before-run":await Fs(t,s);break;case"rewrite-wp-config":{const p=await t.documentRoot,l=ne(p,"/wp-config.php"),r=await t.readFileAsText(l),e=await xs(t,r,s);await t.writeFile(l,e);break}default:throw new Error(`Invalid method: ${i}`)}};async function Fs(t,s){for(const i in s)await t.defineConstant(i,s[i])}async function xs(t,s,i){await t.writeFile("/tmp/code.php",s);const p=lt({consts:i});return await t.run({code:`${Ss}
	$wp_config_path = '/tmp/code.php';
	$wp_config = file_get_contents($wp_config_path);
	$new_wp_config = rewrite_wp_config_to_define_constants($wp_config, ${p.consts});
	file_put_contents($wp_config_path, $new_wp_config);
	`}),await t.readFileAsText("/tmp/code.php")}const vt=async(t,{username:s="admin",password:i="password"}={},p)=>{var l,r,e;p==null||p.tracker.setCaption((p==null?void 0:p.initialCaption)||"Logging in"),await t.request({url:"/wp-login.php"});const f=await t.request({url:"/wp-login.php",method:"POST",body:{log:s,pwd:i,rememberme:"forever"}});if(!((e=(r=(l=f.headers)==null?void 0:l.location)==null?void 0:r[0])!=null&&e.includes("/wp-admin/")))throw ce.warn("WordPress response was",{response:f,text:f.text}),new Error(`Failed to log in as ${s} with password ${i}`)},Gt=async(t,{options:s})=>{const i=await t.documentRoot;await t.run({code:`<?php
		include ${pe(i)} . '/wp-load.php';
		$site_options = ${pe(s)};
		foreach($site_options as $name => $value) {
			update_option($name, $value);
		}
		echo "Success";
		`})},Ns=async(t,{meta:s,userId:i})=>{const p=await t.documentRoot;await t.run({code:`<?php
		include ${pe(p)} . '/wp-load.php';
		$meta = ${pe(s)};
		foreach($meta as $name => $value) {
			update_user_meta(${pe(i)}, $name, $value);
		}
		`})};function Yt(t){return t.pathname.startsWith("/scope:")}function Cs(t){return Yt(t)?t.pathname.split("/")[1].split(":")[1]:null}const Ds=async t=>{var s;await rt(t,{consts:{WP_ALLOW_MULTISITE:1}});const i=new URL(await t.absoluteUrl);if(i.port!==""){let b=`The current host is ${i.host}, but WordPress multisites do not support custom ports.`;throw i.hostname==="localhost"&&(b+=" For development, you can set up a playground.test domain using the instructions at https://wordpress.github.io/wordpress-playground/contributing/code."),new Error(b)}const p=i.pathname.replace(/\/$/,"")+"/",l=`${i.protocol}//${i.hostname}${p}`;await Gt(t,{options:{siteurl:l,home:l}}),await vt(t,{});const r=await t.documentRoot,e=(await t.run({code:`<?php
define( 'WP_ADMIN', true );
require_once(${pe(r)} . "/wp-load.php");

// Set current user to admin
( get_users(array('role' => 'Administrator') )[0] );

require_once(${pe(r)} . "/wp-admin/includes/plugin.php");
$plugins_root = ${pe(r)} . "/wp-content/plugins";
$plugins = glob($plugins_root . "/*");

$deactivated_plugins = [];
foreach($plugins as $plugin_path) {
	if (str_ends_with($plugin_path, '/index.php')) {
		continue;
	}
	if (!is_dir($plugin_path)) {
		$deactivated_plugins[] = substr($plugin_path, strlen($plugins_root) + 1);
		deactivate_plugins($plugin_path);
		continue;
	}
	// Find plugin entry file
	foreach ( ( glob( $plugin_path . '/*.php' ) ?: array() ) as $file ) {
		$info = get_plugin_data( $file, false, false );
		if ( ! empty( $info['Name'] ) ) {
			deactivate_plugins( $file );
			$deactivated_plugins[] = substr($file, strlen($plugins_root) + 1);
			break;
		}
	}
}
echo json_encode($deactivated_plugins);
`})).json,f=(s=(await wt(t,{request:{url:"/wp-admin/network.php"}})).text.match(/name="_wpnonce"\s+value="([^"]+)"/))==null?void 0:s[1],m=await wt(t,{request:{url:"/wp-admin/network.php",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Is({_wpnonce:f,_wp_http_referer:p+"wp-admin/network.php",sitename:"My WordPress Website Sites",email:"admin@localhost.com",submit:"Install"})}});if(m.httpStatusCode!==200)throw ce.warn("WordPress response was",{response:m,text:m.text,headers:m.headers}),new Error(`Failed to enable multisite. Response code was ${m.httpStatusCode}`);await rt(t,{consts:{MULTISITE:!0,SUBDOMAIN_INSTALL:!1,SITE_ID_CURRENT_SITE:1,BLOG_ID_CURRENT_SITE:1,DOMAIN_CURRENT_SITE:i.hostname,PATH_CURRENT_SITE:p}});const A=new URL(await t.absoluteUrl),T=Yt(A)?"scope:"+Cs(A):null;await t.writeFile("/internal/shared/preload/sunrise.php",`<?php
	$_SERVER['HTTP_HOST'] = ${pe(A.hostname)};
	$folder = ${pe(T)};
	if ($folder && strpos($_SERVER['REQUEST_URI'],"/$folder") === false) {
		$_SERVER['REQUEST_URI'] = "/$folder/" . ltrim($_SERVER['REQUEST_URI'], '/');
	}
`),await t.writeFile("/internal/shared/mu-plugins/sunrise.php",`<?php
		if ( !defined( 'BLOG_ID_CURRENT_SITE' ) ) {
			define( 'BLOG_ID_CURRENT_SITE', 1 );
		}
`),await vt(t,{});for(const b of e)await Ot(t,{pluginPath:b})};function Is(t){return Object.keys(t).map(s=>encodeURIComponent(s)+"="+encodeURIComponent(t[s])).join("&")}const Ws=async(t,{fromPath:s,toPath:i})=>{await t.writeFile(i,await t.readFileAsBuffer(s))},Us=async(t,{fromPath:s,toPath:i})=>{await t.mv(s,i)},Ms=async(t,{path:s})=>{await t.mkdir(s)},Bs=async(t,{path:s})=>{await t.rmdir(s)},Zt=async(t,{path:s,data:i})=>{i instanceof File&&(i=new Uint8Array(await i.arrayBuffer())),s.startsWith("/wordpress/wp-content/mu-plugins")&&!await t.fileExists("/wordpress/wp-content/mu-plugins")&&await t.mkdir("/wordpress/wp-content/mu-plugins"),await t.writeFile(s,i)},Qt=async(t,{siteUrl:s})=>{await rt(t,{consts:{WP_HOME:s,WP_SITEURL:s}})},zs=async(t,{file:s},i)=>{var p;(p=i==null?void 0:i.tracker)==null||p.setCaption("Importing content"),await Zt(t,{path:"/tmp/import.wxr",data:s});const l=await t.documentRoot;await t.run({code:`<?php
		require ${pe(l)} . '/wp-load.php';
		require ${pe(l)} . '/wp-admin/includes/admin.php';
  
		kses_remove_filters();
		$admin_id = get_users(array('role' => 'Administrator') )[0]->ID;
        wp_set_current_user( $admin_id );
		$importer = new WXR_Importer( array(
			'fetch_attachments' => true,
			'default_author' => $admin_id
		) );
		$logger = new WP_Importer_Logger_CLI();
		$importer->set_logger( $logger );

		// Slashes from the imported content are lost if we don't call wp_slash here.
		add_action( 'wp_insert_post_data', function( $data ) {
			return wp_slash($data);
		});

		$result = $importer->import( '/tmp/import.wxr' );
		`})},Jt=async(t,{themeSlug:s=""},i)=>{var p;(p=i==null?void 0:i.tracker)==null||p.setCaption("Importing theme starter content");const l=await t.documentRoot;await t.run({code:`<?php

		/**
		 * Ensure that the customizer loads as an admin user.
		 *
		 * For compatibility with themes, this MUST be run prior to theme inclusion, which is why this is a plugins_loaded filter instead
		 * of running _wp_customize_include() manually after load.
		 */
		function importThemeStarterContent_plugins_loaded() {
			// Set as the admin user, this ensures we can customize the site.
			wp_set_current_user(
				get_users( [ 'role' => 'Administrator' ] )[0]
			);

			// Force the site to be fresh, although it should already be.
			add_filter( 'pre_option_fresh_site', '__return_true' );

			/*
			 * Simulate this request as the customizer loading with the current theme in preview mode.
			 *
			 * See _wp_customize_include()
			 */
			$_REQUEST['wp_customize']    = 'on';
			$_REQUEST['customize_theme'] = ${pe(s)} ?: get_stylesheet();

			/*
			 * Claim this is a ajax request saving settings, to avoid the preview filters being applied.
			 */
			$_REQUEST['action'] = 'customize_save';
			add_filter( 'wp_doing_ajax', '__return_true' );

			$_GET = $_REQUEST;
		}
		playground_add_filter( 'plugins_loaded', 'importThemeStarterContent_plugins_loaded', 0 );

		require ${pe(l)} . '/wp-load.php';

		// Return early if there's no starter content.
		if ( ! get_theme_starter_content() ) {
			return;
		}

		// Import the Starter Content.
		$wp_customize->import_theme_starter_content();

		// Publish the changeset, which publishes the starter content.
		wp_publish_post( $wp_customize->changeset_post_id() );
		`})},mt="/tmp/file.zip",Kt=async(t,s,i,p=!0)=>{if(s instanceof File){const r=s;s=mt,await t.writeFile(s,new Uint8Array(await r.arrayBuffer()))}const l=lt({zipPath:s,extractToPath:i,overwriteFiles:p});await t.run({code:`<?php
        function unzip($zipPath, $extractTo, $overwriteFiles = true)
        {
            if (!is_dir($extractTo)) {
                mkdir($extractTo, 0777, true);
            }
            $zip = new ZipArchive;
            $res = $zip->open($zipPath);
            if ($res === TRUE) {
				for ($i = 0; $i < $zip->numFiles; $i++) {
					$filename = $zip->getNameIndex($i);
					$fileinfo = pathinfo($filename);
					$extractFilePath = rtrim($extractTo, '/') . '/' . $filename;
					// Check if file exists and $overwriteFiles is false
					if (!file_exists($extractFilePath) || $overwriteFiles) {
						// Extract file
						$zip->extractTo($extractTo, $filename);
					}
				}
				$zip->close();
				chmod($extractTo, 0777);
            } else {
                throw new Exception("Could not unzip file");
            }
        }
        unzip(${l.zipPath}, ${l.extractToPath}, ${l.overwriteFiles});
        `}),await t.fileExists(mt)&&await t.unlink(mt)},_t=async(t,{zipFile:s,zipPath:i,extractToPath:p})=>{if(i)ce.warn('The "zipPath" option of the unzip() Blueprint step is deprecated and will be removed. Use "zipFile" instead.');else if(!s)throw new Error("Either zipPath or zipFile must be provided");await Kt(t,s||i,p)},Vs=async(t,{wordPressFilesZip:s,pathInZip:i=""})=>{const p=await t.documentRoot;let l=ne("/tmp","import");await t.mkdir(l),await _t(t,{zipFile:s,extractToPath:l}),l=ne(l,i);const r=ne(l,"wp-content"),e=ne(p,"wp-content");for(const T of Dt){const b=ne(r,T);await Lt(t,b);const O=ne(e,T);await t.fileExists(O)&&(await t.mkdir(Wt(b)),await t.mv(O,b))}const f=ne(l,"wp-content","database");await t.fileExists(f)||await t.mv(ne(p,"wp-content","database"),f);const m=await t.listFiles(l);for(const T of m)await Lt(t,ne(p,T)),await t.mv(ne(l,T),ne(p,T));await t.rmdir(l),await Qt(t,{siteUrl:await t.absoluteUrl});const A=pe(ne(p,"wp-admin","upgrade.php"));await t.run({code:`<?php
            $_GET['step'] = 'upgrade_db';
            require ${A};
            `})};async function Lt(t,s){await t.fileExists(s)&&(await t.isDir(s)?await t.rmdir(s):await t.unlink(s))}async function Hs(t){const s=await t.request({url:"/wp-admin/export.php?download=true&content=all"});return new File([s.bytes],"export.xml")}async function Xt(t,{targetPath:s,zipFile:i,ifAlreadyInstalled:p="overwrite"}){const l=i.name.replace(/\.zip$/,""),r=ne(await t.documentRoot,"wp-content"),e=ne(r,Mt()),f=ne(e,"assets",l);await t.fileExists(f)&&await t.rmdir(e,{recursive:!0}),await t.mkdir(e);try{await _t(t,{zipFile:i,extractToPath:f});let m=await t.listFiles(f,{prependPath:!0});m=m.filter(X=>!X.endsWith("/__MACOSX"));const A=m.length===1&&await t.isDir(m[0]);let T,b="";A?(b=m[0],T=m[0].split("/").pop()):(b=f,T=l);const O=`${s}/${T}`;if(await t.fileExists(O)){if(!await t.isDir(O))throw new Error(`Cannot install asset ${T} to ${O} because a file with the same name already exists. Note it's a file, not a directory! Is this by mistake?`);if(p==="overwrite")await t.rmdir(O,{recursive:!0});else{if(p==="skip")return{assetFolderPath:O,assetFolderName:T};throw new Error(`Cannot install asset ${T} to ${s} because it already exists and the ifAlreadyInstalled option was set to ${p}`)}}return await t.mv(b,O),{assetFolderPath:O,assetFolderName:T}}finally{await t.rmdir(e,{recursive:!0})}}function ct(t){const s=t.split(".").shift().replace(/-/g," ");return s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()}const Gs=async(t,{pluginZipFile:s,ifAlreadyInstalled:i,options:p={}},l)=>{const r=s.name.split("/").pop()||"plugin.zip",e=ct(r);l==null||l.tracker.setCaption(`Installing the ${e} plugin`);const{assetFolderPath:f}=await Xt(t,{ifAlreadyInstalled:i,zipFile:s,targetPath:`${await t.documentRoot}/wp-content/plugins`});(!("activate"in p)||p.activate)&&await Ot(t,{pluginPath:f,pluginName:e},l)},Ys=async(t,{themeZipFile:s,ifAlreadyInstalled:i,options:p={}},l)=>{const r=ct(s.name);l==null||l.tracker.setCaption(`Installing the ${r} theme`);const{assetFolderName:e}=await Xt(t,{ifAlreadyInstalled:i,zipFile:s,targetPath:`${await t.documentRoot}/wp-content/themes`});(!("activate"in p)||p.activate)&&await Vt(t,{themeFolderName:e},l),"importStarterContent"in p&&p.importStarterContent&&await Jt(t,{themeSlug:e},l)},Zs=async(t,s,i)=>{var p;(p=i==null?void 0:i.tracker)==null||p.setCaption("Resetting WordPress data");const l=await t.documentRoot;await t.run({env:{DOCROOT:l},code:`<?php
		require getenv('DOCROOT') . '/wp-load.php';

		$GLOBALS['@pdo']->query('DELETE FROM wp_posts WHERE id > 0');
		$GLOBALS['@pdo']->query("UPDATE SQLITE_SEQUENCE SET SEQ=0 WHERE NAME='wp_posts'");
		
		$GLOBALS['@pdo']->query('DELETE FROM wp_postmeta WHERE post_id > 1');
		$GLOBALS['@pdo']->query("UPDATE SQLITE_SEQUENCE SET SEQ=20 WHERE NAME='wp_postmeta'");

		$GLOBALS['@pdo']->query('DELETE FROM wp_comments');
		$GLOBALS['@pdo']->query("UPDATE SQLITE_SEQUENCE SET SEQ=0 WHERE NAME='wp_comments'");

		$GLOBALS['@pdo']->query('DELETE FROM wp_commentmeta');
		$GLOBALS['@pdo']->query("UPDATE SQLITE_SEQUENCE SET SEQ=0 WHERE NAME='wp_commentmeta'");
		`})},Qs=async(t,{options:s})=>{await t.request({url:"/wp-admin/install.php?step=2",method:"POST",body:{language:"en",prefix:"wp_",weblog_title:"My WordPress Website",user_name:s.adminPassword||"admin",admin_password:s.adminPassword||"password",admin_password2:s.adminPassword||"password",Submit:"Install WordPress",pw_weak:"1",admin_email:"admin@localhost.com"}})},Js=async(t,{selfContained:s=!1}={})=>{const i="/tmp/wordpress-playground.zip",p=await t.documentRoot,l=ne(p,"wp-content");let r=Dt;s&&(r=r.filter(m=>!m.startsWith("themes/twenty")).filter(m=>m!=="mu-plugins/sqlite-database-integration"));const e=lt({zipPath:i,wpContentPath:l,documentRoot:p,exceptPaths:r.map(m=>ne(p,"wp-content",m)),additionalPaths:s?{[ne(p,"wp-config.php")]:"wp-config.php"}:{}});await Xs(t,`zipDir(${e.wpContentPath}, ${e.zipPath}, array(
			'exclude_paths' => ${e.exceptPaths},
			'zip_root'      => ${e.documentRoot},
			'additional_paths' => ${e.additionalPaths}
		));`);const f=await t.readFileAsBuffer(i);return t.unlink(i),f},Ks=`<?php

function zipDir($root, $output, $options = array())
{
    $root = rtrim($root, '/');
    $additionalPaths = array_key_exists('additional_paths', $options) ? $options['additional_paths'] : array();
    $excludePaths = array_key_exists('exclude_paths', $options) ? $options['exclude_paths'] : array();
    $zip_root = array_key_exists('zip_root', $options) ? $options['zip_root'] : $root;

    $zip = new ZipArchive;
    $res = $zip->open($output, ZipArchive::CREATE);
    if ($res === TRUE) {
        $directories = array(
            $root . '/'
        );
        while (sizeof($directories)) {
            $current_dir = array_pop($directories);

            if ($handle = opendir($current_dir)) {
                while (false !== ($entry = readdir($handle))) {
                    if ($entry == '.' || $entry == '..') {
                        continue;
                    }

                    $entry = join_paths($current_dir, $entry);
                    if (in_array($entry, $excludePaths)) {
                        continue;
                    }

                    if (is_dir($entry)) {
                        $directory_path = $entry . '/';
                        array_push($directories, $directory_path);
                    } else if (is_file($entry)) {
                        $zip->addFile($entry, substr($entry, strlen($zip_root)));
                    }
                }
                closedir($handle);
            }
        }
        foreach ($additionalPaths as $disk_path => $zip_path) {
            $zip->addFile($disk_path, $zip_path);
        }
        $zip->close();
        chmod($output, 0777);
    }
}

function join_paths()
{
    $paths = array();

    foreach (func_get_args() as $arg) {
        if ($arg !== '') {
            $paths[] = $arg;
        }
    }

    return preg_replace('#/+#', '/', join('/', $paths));
}
`;async function Xs(t,s){return await t.run({code:Ks+s})}const er=async(t,{command:s,wpCliPath:i="/tmp/wp-cli.phar"})=>{if(!await t.fileExists(i))throw new Error(`wp-cli.phar not found at ${i}.
			You can enable wp-cli support by adding "wp-cli" to the list of extra libraries in your blueprint as follows:
			{
				"extraLibraries": [ "wp-cli" ]
			}

			Read more about it in the documentation.
			https://wordpress.github.io/wordpress-playground/blueprints/data-format#extra-libraries`);let p;if(typeof s=="string"?(s=s.trim(),p=tr(s)):p=s,p.shift()!=="wp")throw new Error('The first argument must be "wp".');await t.writeFile("/tmp/stdout",""),await t.writeFile("/tmp/stderr",""),await t.writeFile("/wordpress/run-cli.php",`<?php
		// Set up the environment to emulate a shell script
		// call.

		// Set SHELL_PIPE to 0 to ensure WP-CLI formats
		// the output as ASCII tables.
		// @see https://github.com/wp-cli/wp-cli/issues/1102
		putenv( 'SHELL_PIPE=0' );

		// Set the argv global.
		$GLOBALS['argv'] = array_merge([
		  "/tmp/wp-cli.phar",
		  "--path=/wordpress"
		], ${pe(p)});

		// Provide stdin, stdout, stderr streams outside of
		// the CLI SAPI.
		define('STDIN', fopen('php://stdin', 'rb'));
		define('STDOUT', fopen('php://stdout', 'wb'));
		define('STDERR', fopen('php://stderr', 'wb'));

		require( ${pe(i)} );
		`);const l=await t.run({scriptPath:"/wordpress/run-cli.php"});if(l.errors)throw new Error(l.errors);return l};function tr(t){let s=0,i="";const p=[];let l="";for(let r=0;r<t.length;r++){const e=t[r];s===0?e==='"'||e==="'"?(s=1,i=e):e.match(/\s/)?(l&&p.push(l),l=""):l+=e:s===1&&(e==="\\"?(r++,l+=t[r]):e===i?(s=0,i=""):l+=e)}return l&&p.push(l),p}const sr=async(t,{language:s},i)=>{i==null||i.tracker.setCaption((i==null?void 0:i.initialCaption)||"Translating"),await t.defineConstant("WPLANG",s);const p=await t.documentRoot,l=[{url:`https://downloads.wordpress.org/translation/core/${(await t.run({code:`<?php
			require '${p}/wp-includes/version.php';
			echo $wp_version;
		`})).text}/${s}.zip`,type:"core"}],r=(await t.run({code:`<?php
		require_once('${p}/wp-load.php');
		require_once('${p}/wp-admin/includes/plugin.php');
		echo json_encode(
			array_values(
				array_map(
					function($plugin) {
						return [
							'slug'    => $plugin['TextDomain'],
							'version' => $plugin['Version']
						];
					},
					array_filter(
						get_plugins(),
						function($plugin) {
							return !empty($plugin['TextDomain']);
						}
					)
				)
			)
		);`})).json;for(const{slug:f,version:m}of r)l.push({url:`https://downloads.wordpress.org/translation/plugin/${f}/${m}/${s}.zip`,type:"plugin"});const e=(await t.run({code:`<?php
		require_once('${p}/wp-load.php');
		require_once('${p}/wp-admin/includes/theme.php');
		echo json_encode(
			array_values(
				array_map(
					function($theme) {
						return [
							'slug'    => $theme->get('TextDomain'),
							'version' => $theme->get('Version')
						];
					},
					wp_get_themes()
				)
			)
		);`})).json;for(const{slug:f,version:m}of e)l.push({url:`https://downloads.wordpress.org/translation/theme/${f}/${m}/${s}.zip`,type:"theme"});await t.isDir(`${p}/wp-content/languages/plugins`)||await t.mkdir(`${p}/wp-content/languages/plugins`),await t.isDir(`${p}/wp-content/languages/themes`)||await t.mkdir(`${p}/wp-content/languages/themes`);for(const{url:f,type:m}of l)try{const A=await fetch(f);if(!A.ok)throw new Error(`Failed to download translations for ${m}: ${A.statusText}`);let T=`${p}/wp-content/languages`;m==="plugin"?T+="/plugins":m==="theme"&&(T+="/themes"),await Kt(t,new File([await A.blob()],`${s}-${m}.zip`),T)}catch(A){if(m==="core")throw new Error(`Failed to download translations for WordPress. Please check if the language code ${s} is correct. You can find all available languages and translations on https://translate.wordpress.org/.`);ce.warn(`Error downloading translations for ${m}: ${A}`)}},rr=Object.freeze(Object.defineProperty({__proto__:null,activatePlugin:Ot,activateTheme:Vt,cp:Ws,defineSiteUrl:Qt,defineWpConfigConsts:rt,enableMultisite:Ds,exportWXR:Hs,importThemeStarterContent:Jt,importWordPressFiles:Vs,importWxr:zs,installPlugin:Gs,installTheme:Ys,login:vt,mkdir:Ms,mv:Us,request:wt,resetData:Zs,rm:Ht,rmdir:Bs,runPHP:qs,runPHPWithOptions:Ls,runSql:Rs,runWpInstallationWizard:Qs,setSiteLanguage:sr,setSiteOptions:Gt,unzip:_t,updateUserMeta:Ns,wpCLI:er,writeFile:Zt,zipWpContent:Js},Symbol.toStringTag,{value:"Module"})),ar=5*1024*1024;function ir(t,s){const i=t.headers.get("content-length")||"",p=parseInt(i,10)||ar;function l(r,e){s(new CustomEvent("progress",{detail:{loaded:r,total:e}}))}return new Response(new ReadableStream({async start(r){if(!t.body){r.close();return}const e=t.body.getReader();let f=0;for(;;)try{const{done:m,value:A}=await e.read();if(A&&(f+=A.byteLength),m){l(f,f),r.close();break}else l(f,p),r.enqueue(A)}catch(m){ce.error({e:m}),r.error(m);break}}}),{status:t.status,statusText:t.statusText,headers:t.headers})}const yt=1e-5;class ft extends EventTarget{constructor({weight:s=1,caption:i="",fillTime:p=4}={}){super(),this._selfWeight=1,this._selfDone=!1,this._selfProgress=0,this._selfCaption="",this._isFilling=!1,this._subTrackers=[],this._weight=s,this._selfCaption=i,this._fillTime=p}stage(s,i=""){if(s||(s=this._selfWeight),this._selfWeight-s<-yt)throw new Error(`Cannot add a stage with weight ${s} as the total weight of registered stages would exceed 1.`);this._selfWeight-=s;const p=new ft({caption:i,weight:s,fillTime:this._fillTime});return this._subTrackers.push(p),p.addEventListener("progress",()=>this.notifyProgress()),p.addEventListener("done",()=>{this.done&&this.notifyDone()}),p}fillSlowly({stopBeforeFinishing:s=!0}={}){if(this._isFilling)return;this._isFilling=!0;const i=100,p=this._fillTime/i;this._fillInterval=setInterval(()=>{this.set(this._selfProgress+1),s&&this._selfProgress>=99&&clearInterval(this._fillInterval)},p)}set(s){this._selfProgress=Math.min(s,100),this.notifyProgress(),this._selfProgress+yt>=100&&this.finish()}finish(){this._fillInterval&&clearInterval(this._fillInterval),this._selfDone=!0,this._selfProgress=100,this._isFilling=!1,this._fillInterval=void 0,this.notifyProgress(),this.notifyDone()}get caption(){for(let s=this._subTrackers.length-1;s>=0;s--)if(!this._subTrackers[s].done){const i=this._subTrackers[s].caption;if(i)return i}return this._selfCaption}setCaption(s){this._selfCaption=s,this.notifyProgress()}get done(){return this.progress+yt>=100}get progress(){if(this._selfDone)return 100;const s=this._subTrackers.reduce((i,p)=>i+p.progress*p.weight,this._selfProgress*this._selfWeight);return Math.round(s*1e4)/1e4}get weight(){return this._weight}get observer(){return this._progressObserver||(this._progressObserver=s=>{this.set(s)}),this._progressObserver}get loadingListener(){return this._loadingListener||(this._loadingListener=s=>{this.set(s.detail.loaded/s.detail.total*100)}),this._loadingListener}pipe(s){s.setProgress({progress:this.progress,caption:this.caption}),this.addEventListener("progress",i=>{s.setProgress({progress:i.detail.progress,caption:i.detail.caption})}),this.addEventListener("done",()=>{s.setLoaded()})}addEventListener(s,i){super.addEventListener(s,i)}removeEventListener(s,i){super.removeEventListener(s,i)}notifyProgress(){const s=this;this.dispatchEvent(new CustomEvent("progress",{detail:{get progress(){return s.progress},get caption(){return s.caption}}}))}notifyDone(){this.dispatchEvent(new CustomEvent("done"))}}const at={0:"No error occurred. System call completed successfully.",1:"Argument list too long.",2:"Permission denied.",3:"Address in use.",4:"Address not available.",5:"Address family not supported.",6:"Resource unavailable, or operation would block.",7:"Connection already in progress.",8:"Bad file descriptor.",9:"Bad message.",10:"Device or resource busy.",11:"Operation canceled.",12:"No child processes.",13:"Connection aborted.",14:"Connection refused.",15:"Connection reset.",16:"Resource deadlock would occur.",17:"Destination address required.",18:"Mathematics argument out of domain of function.",19:"Reserved.",20:"File exists.",21:"Bad address.",22:"File too large.",23:"Host is unreachable.",24:"Identifier removed.",25:"Illegal byte sequence.",26:"Operation in progress.",27:"Interrupted function.",28:"Invalid argument.",29:"I/O error.",30:"Socket is connected.",31:"There is a directory under that path.",32:"Too many levels of symbolic links.",33:"File descriptor value too large.",34:"Too many links.",35:"Message too large.",36:"Reserved.",37:"Filename too long.",38:"Network is down.",39:"Connection aborted by network.",40:"Network unreachable.",41:"Too many files open in system.",42:"No buffer space available.",43:"No such device.",44:"There is no such file or directory OR the parent directory does not exist.",45:"Executable file format error.",46:"No locks available.",47:"Reserved.",48:"Not enough space.",49:"No message of the desired type.",50:"Protocol not available.",51:"No space left on device.",52:"Function not supported.",53:"The socket is not connected.",54:"Not a directory or a symbolic link to a directory.",55:"Directory not empty.",56:"State not recoverable.",57:"Not a socket.",58:"Not supported, or operation not supported on socket.",59:"Inappropriate I/O control operation.",60:"No such device or address.",61:"Value too large to be stored in data type.",62:"Previous owner died.",63:"Operation not permitted.",64:"Broken pipe.",65:"Protocol error.",66:"Protocol not supported.",67:"Protocol wrong type for socket.",68:"Result too large.",69:"Read-only file system.",70:"Invalid seek.",71:"No such process.",72:"Reserved.",73:"Connection timed out.",74:"Text file busy.",75:"Cross-device link.",76:"Extension: Capabilities insufficient."};function or(t){const s=typeof t=="object"?t==null?void 0:t.errno:null;if(s in at)return at[s]}function ve(t=""){return function(s,i,p){const l=p.value;p.value=function(...r){try{return l.apply(this,r)}catch(e){const f=typeof e=="object"?e==null?void 0:e.errno:null;if(f in at){const m=at[f],A=typeof r[1]=="string"?r[1]:null,T=A!==null?t.replaceAll("{path}",A):t;throw new Error(`${T}: ${m}`,{cause:e})}throw e}}}}var nr=Object.defineProperty,pr=Object.getOwnPropertyDescriptor,ke=(t,s,i,p)=>{for(var l=p>1?void 0:p?pr(s,i):s,r=t.length-1,e;r>=0;r--)(e=t[r])&&(l=(p?e(s,i,l):e(l))||l);return p&&l&&nr(s,i,l),l};const Oe=class ue{static readFileAsText(s,i){return new TextDecoder().decode(ue.readFileAsBuffer(s,i))}static readFileAsBuffer(s,i){return s.readFile(i)}static writeFile(s,i,p){s.writeFile(i,p)}static unlink(s,i){s.unlink(i)}static mv(s,i,p){try{const l=s.lookupPath(i).node.mount,r=ue.fileExists(s,p)?s.lookupPath(p).node.mount:s.lookupPath(Wt(p)).node.mount;l.mountpoint!==r.mountpoint?(ue.copyRecursive(s,i,p),ue.rmdir(s,i,{recursive:!0})):s.rename(i,p)}catch(l){const r=or(l);throw r?new Error(`Could not move ${i} to ${p}: ${r}`,{cause:l}):l}}static rmdir(s,i,p={recursive:!0}){p!=null&&p.recursive&&ue.listFiles(s,i).forEach(l=>{const r=`${i}/${l}`;ue.isDir(s,r)?ue.rmdir(s,r,p):ue.unlink(s,r)}),s.rmdir(i)}static listFiles(s,i,p={prependPath:!1}){if(!ue.fileExists(s,i))return[];try{const l=s.readdir(i).filter(r=>r!=="."&&r!=="..");if(p.prependPath){const r=i.replace(/\/$/,"");return l.map(e=>`${r}/${e}`)}return l}catch(l){return ce.error(l,{path:i}),[]}}static isDir(s,i){return ue.fileExists(s,i)?s.isDir(s.lookupPath(i,{follow:!0}).node.mode):!1}static isFile(s,i){return ue.fileExists(s,i)?s.isFile(s.lookupPath(i,{follow:!0}).node.mode):!1}static symlink(s,i,p){return s.symlink(i,p)}static isSymlink(s,i){return ue.fileExists(s,i)?s.isLink(s.lookupPath(i).node.mode):!1}static readlink(s,i){return s.readlink(i)}static realpath(s,i){return s.lookupPath(i,{follow:!0}).path}static fileExists(s,i){try{return s.lookupPath(i),!0}catch{return!1}}static mkdir(s,i){s.mkdirTree(i)}static copyRecursive(s,i,p){const l=s.lookupPath(i).node;if(s.isDir(l.mode)){s.mkdirTree(p);const r=s.readdir(i).filter(e=>e!=="."&&e!=="..");for(const e of r)ue.copyRecursive(s,ne(i,e),ne(p,e))}else s.writeFile(p,s.readFile(i))}};ke([ve('Could not read "{path}"')],Oe,"readFileAsText",1);ke([ve('Could not read "{path}"')],Oe,"readFileAsBuffer",1);ke([ve('Could not write to "{path}"')],Oe,"writeFile",1);ke([ve('Could not unlink "{path}"')],Oe,"unlink",1);ke([ve('Could not remove directory "{path}"')],Oe,"rmdir",1);ke([ve('Could not list files in "{path}"')],Oe,"listFiles",1);ke([ve('Could not stat "{path}"')],Oe,"isDir",1);ke([ve('Could not stat "{path}"')],Oe,"isFile",1);ke([ve('Could not stat "{path}"')],Oe,"realpath",1);ke([ve('Could not stat "{path}"')],Oe,"fileExists",1);ke([ve('Could not create directory "{path}"')],Oe,"mkdir",1);ke([ve('Could not copy files from "{path}"')],Oe,"copyRecursive",1);const lr={500:"Internal Server Error",502:"Bad Gateway",404:"Not Found",403:"Forbidden",401:"Unauthorized",400:"Bad Request",301:"Moved Permanently",302:"Found",307:"Temporary Redirect",308:"Permanent Redirect",204:"No Content",201:"Created",200:"OK"};class it{constructor(s,i,p,l="",r=0){this.httpStatusCode=s,this.headers=i,this.bytes=p,this.exitCode=r,this.errors=l}static forHttpCode(s,i=""){return new it(s,{},new TextEncoder().encode(i||lr[s]||""))}static fromRawData(s){return new it(s.httpStatusCode,s.headers,s.bytes,s.errors,s.exitCode)}toRawData(){return{headers:this.headers,bytes:this.bytes,errors:this.errors,exitCode:this.exitCode,httpStatusCode:this.httpStatusCode}}get json(){return JSON.parse(this.text)}get text(){return new TextDecoder().decode(this.bytes)}}(function(){var t;return typeof process<"u"&&((t=process.release)==null?void 0:t.name)==="node"?"NODE":typeof window<"u"?"WEB":typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?"WORKER":"NODE"})();ReadableStream.prototype[Symbol.asyncIterator]||(ReadableStream.prototype[Symbol.asyncIterator]=async function*(){const t=this.getReader();try{for(;;){const{done:s,value:i}=await t.read();if(s)return;yield i}}finally{t.releaseLock()}},ReadableStream.prototype.iterate=ReadableStream.prototype[Symbol.asyncIterator]);const es=["8.3","8.2","8.1","8.0","7.4","7.3","7.2","7.1","7.0"],cr=es[0],ts=["iconv","mbstring","xml-bundle","gd"],Rt={"kitchen-sink":ts,light:[]},fr=["vfs","literal","wordpress.org/themes","wordpress.org/plugins","url"];function ur(t){return t&&typeof t=="object"&&typeof t.resource=="string"&&fr.includes(t.resource)}class De{static create(s,{semaphore:i,progress:p}){let l;switch(s.resource){case"vfs":l=new dr(s,p);break;case"literal":l=new hr(s,p);break;case"wordpress.org/themes":l=new gr(s,p);break;case"wordpress.org/plugins":l=new Pr(s,p);break;case"url":l=new yr(s,p);break;default:throw new Error(`Invalid resource: ${s}`)}return l=new br(l),i&&(l=new wr(l,i)),l}setPlayground(s){this.playground=s}get isAsync(){return!1}}class dr extends De{constructor(s,i){super(),this.resource=s,this.progress=i}async resolve(){var s;const i=await this.playground.readFileAsBuffer(this.resource.path);return(s=this.progress)==null||s.set(100),new File([i],this.name)}get name(){return this.resource.path.split("/").pop()||""}}class hr extends De{constructor(s,i){super(),this.resource=s,this.progress=i}async resolve(){var s;return(s=this.progress)==null||s.set(100),new File([this.resource.contents],this.resource.name)}get name(){return this.resource.name}}class Et extends De{constructor(s){super(),this.progress=s}async resolve(){var s,i;(s=this.progress)==null||s.setCaption(this.caption);const p=this.getURL();try{let l=await fetch(p);if(!l.ok)throw new Error(`Could not download "${p}"`);if(l=await ir(l,((i=this.progress)==null?void 0:i.loadingListener)??mr),l.status!==200)throw new Error(`Could not download "${p}"`);return new File([await l.blob()],this.name)}catch(l){throw new Error(`Could not download "${p}".
				Check if the URL is correct and the server is reachable.
				If it is reachable, the server might be blocking the request.
				Check the browser console and network tabs for more information.

				## Does the console show the error "No 'Access-Control-Allow-Origin' header"?

				This means the server that hosts your file does not allow requests from other sites
				(cross-origin requests, or CORS).	You need to move the asset to a server that allows
				cross-origin file downloads. Learn more about CORS at
				https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS.

				If your file is on GitHub, load it from "raw.githubusercontent.com".
				Here's how to do that:

				1. Start with the original GitHub URL of the file. For example:
				https://github.com/username/repository/blob/branch/filename.
				2. Replace "github.com" with "raw.githubusercontent.com".
				3. Remove the "/blob/" part of the URL.

				The resulting URL should look like this:
				https://raw.githubusercontent.com/username/repository/branch/filename

				Error:
				${l}`)}}get caption(){return`Downloading ${this.name}`}get name(){try{return new URL(this.getURL(),"http://example.com").pathname.split("/").pop()}catch{return this.getURL()}}get isAsync(){return!0}}const mr=()=>{};class yr extends Et{constructor(s,i){super(i),this.resource=s}getURL(){return this.resource.url}get caption(){return this.resource.caption??super.caption}}class gr extends Et{constructor(s,i){super(i),this.resource=s}get name(){return ct(this.resource.slug)}getURL(){return`https://downloads.wordpress.org/theme/${ss(this.resource.slug)}`}}class Pr extends Et{constructor(s,i){super(i),this.resource=s}get name(){return ct(this.resource.slug)}getURL(){return`https://downloads.wordpress.org/plugin/${ss(this.resource.slug)}`}}function ss(t){return!t||t.endsWith(".zip")?t:t+".latest-stable.zip"}class rs extends De{constructor(s){super(),this.resource=s}async resolve(){return this.resource.resolve()}async setPlayground(s){return this.resource.setPlayground(s)}get progress(){return this.resource.progress}set progress(s){this.resource.progress=s}get name(){return this.resource.name}get isAsync(){return this.resource.isAsync}}class br extends rs{async resolve(){return this.promise||(this.promise=super.resolve()),this.promise}}class wr extends rs{constructor(s,i){super(s),this.semaphore=i}async resolve(){return this.isAsync?this.semaphore.run(()=>super.resolve()):super.resolve()}}const vr={type:"object",properties:{landingPage:{type:"string",description:"The URL to navigate to after the blueprint has been run."},description:{type:"string",description:"Optional description. It doesn't do anything but is exposed as a courtesy to developers who may want to document which blueprint file does what.",deprecated:"Use meta.description instead."},meta:{type:"object",properties:{title:{type:"string",description:"A clear and concise name for your Blueprint."},description:{type:"string",description:"A brief explanation of what your Blueprint offers."},author:{type:"string",description:"A GitHub username of the author of this Blueprint."},categories:{type:"array",items:{type:"string"},description:"Relevant categories to help users find your Blueprint in the future Blueprints section on WordPress.org."}},required:["title","author"],additionalProperties:!1,description:"Optional metadata. Used by the Blueprints gallery at https://github.com/WordPress/blueprints"},preferredVersions:{type:"object",properties:{php:{anyOf:[{$ref:"#/definitions/SupportedPHPVersion"},{type:"string",const:"latest"}],description:"The preferred PHP version to use. If not specified, the latest supported version will be used"},wp:{type:"string",description:"The preferred WordPress version to use. If not specified, the latest supported version will be used"}},required:["php","wp"],additionalProperties:!1,description:"The preferred PHP and WordPress versions to use."},features:{type:"object",properties:{networking:{type:"boolean",description:"Should boot with support for network request via wp_safe_remote_get?"}},additionalProperties:!1},extraLibraries:{type:"array",items:{$ref:"#/definitions/ExtraLibrary"},description:"Extra libraries to preload into the Playground instance."},constants:{type:"object",additionalProperties:{type:"string"},description:"PHP Constants to define on every request"},plugins:{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/definitions/FileReference"}]},description:"WordPress plugins to install and activate"},siteOptions:{type:"object",additionalProperties:{type:"string"},properties:{blogname:{type:"string",description:"The site title"}},description:"WordPress site options to define"},login:{anyOf:[{type:"boolean"},{type:"object",properties:{username:{type:"string"},password:{type:"string"}},required:["username","password"],additionalProperties:!1}],description:"User to log in as. If true, logs the user in as admin/password."},phpExtensionBundles:{type:"array",items:{$ref:"#/definitions/SupportedPHPExtensionBundle"},description:"The PHP extensions to use."},steps:{type:"array",items:{anyOf:[{$ref:"#/definitions/StepDefinition"},{type:"string"},{not:{}},{type:"boolean",const:!1},{type:"null"}]},description:"The steps to run after every other operation in this Blueprint was executed."},$schema:{type:"string"}},additionalProperties:!1},kr={type:"string",enum:["8.3","8.2","8.1","8.0","7.4","7.3","7.2","7.1","7.0"]},Or={type:"string",enum:["kitchen-sink","light"]},as=Object.prototype.hasOwnProperty;function te(t,{instancePath:s="",parentData:i,parentDataProperty:p,rootData:l=t}={}){let r=null,e=0;const f=e;let m=!1;const A=e;if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let M;if(t.resource===void 0&&(M="resource")||t.path===void 0&&(M="path")){const _={instancePath:s,schemaPath:"#/definitions/VFSReference/required",keyword:"required",params:{missingProperty:M},message:"must have required property '"+M+"'"};r===null?r=[_]:r.push(_),e++}else{const _=e;for(const P in t)if(!(P==="resource"||P==="path")){const N={instancePath:s,schemaPath:"#/definitions/VFSReference/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:P},message:"must NOT have additional properties"};r===null?r=[N]:r.push(N),e++;break}if(_===e){if(t.resource!==void 0){let P=t.resource;const N=e;if(typeof P!="string"){const v={instancePath:s+"/resource",schemaPath:"#/definitions/VFSReference/properties/resource/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[v]:r.push(v),e++}if(P!=="vfs"){const v={instancePath:s+"/resource",schemaPath:"#/definitions/VFSReference/properties/resource/const",keyword:"const",params:{allowedValue:"vfs"},message:"must be equal to constant"};r===null?r=[v]:r.push(v),e++}var T=N===e}else var T=!0;if(T)if(t.path!==void 0){const P=e;if(typeof t.path!="string"){const I={instancePath:s+"/path",schemaPath:"#/definitions/VFSReference/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[I]:r.push(I),e++}var T=P===e}else var T=!0}}}else{const M={instancePath:s,schemaPath:"#/definitions/VFSReference/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[M]:r.push(M),e++}var b=A===e;if(m=m||b,!m){const M=e;if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let P;if(t.resource===void 0&&(P="resource")||t.name===void 0&&(P="name")||t.contents===void 0&&(P="contents")){const N={instancePath:s,schemaPath:"#/definitions/LiteralReference/required",keyword:"required",params:{missingProperty:P},message:"must have required property '"+P+"'"};r===null?r=[N]:r.push(N),e++}else{const N=e;for(const I in t)if(!(I==="resource"||I==="name"||I==="contents")){const v={instancePath:s,schemaPath:"#/definitions/LiteralReference/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"};r===null?r=[v]:r.push(v),e++;break}if(N===e){if(t.resource!==void 0){let I=t.resource;const v=e;if(typeof I!="string"){const q={instancePath:s+"/resource",schemaPath:"#/definitions/LiteralReference/properties/resource/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[q]:r.push(q),e++}if(I!=="literal"){const q={instancePath:s+"/resource",schemaPath:"#/definitions/LiteralReference/properties/resource/const",keyword:"const",params:{allowedValue:"literal"},message:"must be equal to constant"};r===null?r=[q]:r.push(q),e++}var O=v===e}else var O=!0;if(O){if(t.name!==void 0){const v=e;if(typeof t.name!="string"){const q={instancePath:s+"/name",schemaPath:"#/definitions/LiteralReference/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[q]:r.push(q),e++}var O=v===e}else var O=!0;if(O)if(t.contents!==void 0){let v=t.contents;const W=e,q=e;let C=!1;const S=e;if(typeof v!="string"){const j={instancePath:s+"/contents",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[j]:r.push(j),e++}var X=S===e;if(C=C||X,!C){const j=e;if(e===j)if(v&&typeof v=="object"&&!Array.isArray(v)){let h;if(v.BYTES_PER_ELEMENT===void 0&&(h="BYTES_PER_ELEMENT")||v.buffer===void 0&&(h="buffer")||v.byteLength===void 0&&(h="byteLength")||v.byteOffset===void 0&&(h="byteOffset")||v.length===void 0&&(h="length")){const L={instancePath:s+"/contents",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/required",keyword:"required",params:{missingProperty:h},message:"must have required property '"+h+"'"};r===null?r=[L]:r.push(L),e++}else{const L=e;for(const k in v)if(!(k==="BYTES_PER_ELEMENT"||k==="buffer"||k==="byteLength"||k==="byteOffset"||k==="length")){let E=v[k];const U=e;if(!(typeof E=="number"&&isFinite(E))){const $={instancePath:s+"/contents/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/additionalProperties/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[$]:r.push($),e++}var G=U===e;if(!G)break}if(L===e){if(v.BYTES_PER_ELEMENT!==void 0){let k=v.BYTES_PER_ELEMENT;const E=e;if(!(typeof k=="number"&&isFinite(k))){const $={instancePath:s+"/contents/BYTES_PER_ELEMENT",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/BYTES_PER_ELEMENT/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[$]:r.push($),e++}var V=E===e}else var V=!0;if(V){if(v.buffer!==void 0){let E=v.buffer;const U=e;if(e===U)if(E&&typeof E=="object"&&!Array.isArray(E)){let F;if(E.byteLength===void 0&&(F="byteLength")){const z={instancePath:s+"/contents/buffer",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/buffer/required",keyword:"required",params:{missingProperty:F},message:"must have required property '"+F+"'"};r===null?r=[z]:r.push(z),e++}else{const z=e;for(const Y in E)if(Y!=="byteLength"){const x={instancePath:s+"/contents/buffer",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/buffer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Y},message:"must NOT have additional properties"};r===null?r=[x]:r.push(x),e++;break}if(z===e&&E.byteLength!==void 0){let Y=E.byteLength;if(!(typeof Y=="number"&&isFinite(Y))){const x={instancePath:s+"/contents/buffer/byteLength",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/buffer/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[x]:r.push(x),e++}}}}else{const F={instancePath:s+"/contents/buffer",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/buffer/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[F]:r.push(F),e++}var V=U===e}else var V=!0;if(V){if(v.byteLength!==void 0){let U=v.byteLength;const $=e;if(!(typeof U=="number"&&isFinite(U))){const z={instancePath:s+"/contents/byteLength",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[z]:r.push(z),e++}var V=$===e}else var V=!0;if(V){if(v.byteOffset!==void 0){let $=v.byteOffset;const F=e;if(!(typeof $=="number"&&isFinite($))){const Y={instancePath:s+"/contents/byteOffset",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/byteOffset/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[Y]:r.push(Y),e++}var V=F===e}else var V=!0;if(V)if(v.length!==void 0){let $=v.length;const F=e;if(!(typeof $=="number"&&isFinite($))){const Y={instancePath:s+"/contents/length",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/length/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[Y]:r.push(Y),e++}var V=F===e}else var V=!0}}}}}}else{const h={instancePath:s+"/contents",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[h]:r.push(h),e++}var X=j===e;C=C||X}if(C)e=q,r!==null&&(q?r.length=q:r=null);else{const j={instancePath:s+"/contents",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};r===null?r=[j]:r.push(j),e++}var O=W===e}else var O=!0}}}}else{const P={instancePath:s,schemaPath:"#/definitions/LiteralReference/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[P]:r.push(P),e++}var b=M===e;if(m=m||b,!m){const P=e;if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let I;if(t.resource===void 0&&(I="resource")||t.slug===void 0&&(I="slug")){const v={instancePath:s,schemaPath:"#/definitions/CoreThemeReference/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"};r===null?r=[v]:r.push(v),e++}else{const v=e;for(const W in t)if(!(W==="resource"||W==="slug")){const q={instancePath:s,schemaPath:"#/definitions/CoreThemeReference/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:W},message:"must NOT have additional properties"};r===null?r=[q]:r.push(q),e++;break}if(v===e){if(t.resource!==void 0){let W=t.resource;const q=e;if(typeof W!="string"){const S={instancePath:s+"/resource",schemaPath:"#/definitions/CoreThemeReference/properties/resource/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[S]:r.push(S),e++}if(W!=="wordpress.org/themes"){const S={instancePath:s+"/resource",schemaPath:"#/definitions/CoreThemeReference/properties/resource/const",keyword:"const",params:{allowedValue:"wordpress.org/themes"},message:"must be equal to constant"};r===null?r=[S]:r.push(S),e++}var ae=q===e}else var ae=!0;if(ae)if(t.slug!==void 0){const W=e;if(typeof t.slug!="string"){const C={instancePath:s+"/slug",schemaPath:"#/definitions/CoreThemeReference/properties/slug/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[C]:r.push(C),e++}var ae=W===e}else var ae=!0}}}else{const I={instancePath:s,schemaPath:"#/definitions/CoreThemeReference/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[I]:r.push(I),e++}var b=P===e;if(m=m||b,!m){const I=e;if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let W;if(t.resource===void 0&&(W="resource")||t.slug===void 0&&(W="slug")){const q={instancePath:s,schemaPath:"#/definitions/CorePluginReference/required",keyword:"required",params:{missingProperty:W},message:"must have required property '"+W+"'"};r===null?r=[q]:r.push(q),e++}else{const q=e;for(const C in t)if(!(C==="resource"||C==="slug")){const S={instancePath:s,schemaPath:"#/definitions/CorePluginReference/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:C},message:"must NOT have additional properties"};r===null?r=[S]:r.push(S),e++;break}if(q===e){if(t.resource!==void 0){let C=t.resource;const S=e;if(typeof C!="string"){const j={instancePath:s+"/resource",schemaPath:"#/definitions/CorePluginReference/properties/resource/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[j]:r.push(j),e++}if(C!=="wordpress.org/plugins"){const j={instancePath:s+"/resource",schemaPath:"#/definitions/CorePluginReference/properties/resource/const",keyword:"const",params:{allowedValue:"wordpress.org/plugins"},message:"must be equal to constant"};r===null?r=[j]:r.push(j),e++}var ie=S===e}else var ie=!0;if(ie)if(t.slug!==void 0){const C=e;if(typeof t.slug!="string"){const D={instancePath:s+"/slug",schemaPath:"#/definitions/CorePluginReference/properties/slug/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[D]:r.push(D),e++}var ie=C===e}else var ie=!0}}}else{const W={instancePath:s,schemaPath:"#/definitions/CorePluginReference/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[W]:r.push(W),e++}var b=I===e;if(m=m||b,!m){const W=e;if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let C;if(t.resource===void 0&&(C="resource")||t.url===void 0&&(C="url")){const S={instancePath:s,schemaPath:"#/definitions/UrlReference/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"};r===null?r=[S]:r.push(S),e++}else{const S=e;for(const D in t)if(!(D==="resource"||D==="url"||D==="caption")){const j={instancePath:s,schemaPath:"#/definitions/UrlReference/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"};r===null?r=[j]:r.push(j),e++;break}if(S===e){if(t.resource!==void 0){let D=t.resource;const j=e;if(typeof D!="string"){const h={instancePath:s+"/resource",schemaPath:"#/definitions/UrlReference/properties/resource/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[h]:r.push(h),e++}if(D!=="url"){const h={instancePath:s+"/resource",schemaPath:"#/definitions/UrlReference/properties/resource/const",keyword:"const",params:{allowedValue:"url"},message:"must be equal to constant"};r===null?r=[h]:r.push(h),e++}var J=j===e}else var J=!0;if(J){if(t.url!==void 0){const j=e;if(typeof t.url!="string"){const h={instancePath:s+"/url",schemaPath:"#/definitions/UrlReference/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[h]:r.push(h),e++}var J=j===e}else var J=!0;if(J)if(t.caption!==void 0){const j=e;if(typeof t.caption!="string"){const h={instancePath:s+"/caption",schemaPath:"#/definitions/UrlReference/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[h]:r.push(h),e++}var J=j===e}else var J=!0}}}}else{const C={instancePath:s,schemaPath:"#/definitions/UrlReference/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[C]:r.push(C),e++}var b=W===e;m=m||b}}}}if(m)e=f,r!==null&&(f?r.length=f:r=null);else{const M={instancePath:s,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return r===null?r=[M]:r.push(M),e++,te.errors=r,!1}return te.errors=r,e===0}const gt={type:"object",discriminator:{propertyName:"step"},required:["step"],oneOf:[{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"activatePlugin"},pluginPath:{type:"string",description:"Path to the plugin directory as absolute path (/wordpress/wp-content/plugins/plugin-name); or the plugin entry file relative to the plugins directory (plugin-name/plugin-name.php)."},pluginName:{type:"string",description:"Optional. Plugin name to display in the progress bar."}},required:["pluginPath","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"activateTheme"},themeFolderName:{type:"string",description:"The name of the theme folder inside wp-content/themes/"}},required:["step","themeFolderName"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"cp"},fromPath:{type:"string",description:"Source path"},toPath:{type:"string",description:"Target path"}},required:["fromPath","step","toPath"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"defineWpConfigConsts"},consts:{type:"object",additionalProperties:{},description:"The constants to define"},method:{type:"string",enum:["rewrite-wp-config","define-before-run"],description:`The method of defining the constants in wp-config.php. Possible values are:

- rewrite-wp-config: Default. Rewrites the wp-config.php file to                      explicitly call define() with the requested                      name and value. This method alters the file                      on the disk, but it doesn't conflict with                      existing define() calls in wp-config.php.

- define-before-run: Defines the constant before running the requested                      script. It doesn't alter any files on the disk, but                      constants defined this way may conflict with existing                      define() calls in wp-config.php.`},virtualize:{type:"boolean",deprecated:`This option is noop and will be removed in a future version.
This option is only kept in here to avoid breaking Blueprint schema validation
for existing apps using this option.`}},required:["consts","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"defineSiteUrl"},siteUrl:{type:"string",description:"The URL"}},required:["siteUrl","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"enableMultisite"}},required:["step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"importWxr"},file:{$ref:"#/definitions/FileReference",description:"The file to import"}},required:["file","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"importThemeStarterContent",description:"The step identifier."},themeSlug:{type:"string",description:"The name of the theme to import content from."}},required:["step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"importWordPressFiles"},wordPressFilesZip:{$ref:"#/definitions/FileReference",description:"The zip file containing the top-level WordPress files and directories."},pathInZip:{type:"string",description:"The path inside the zip file where the WordPress files are."}},required:["step","wordPressFilesZip"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},ifAlreadyInstalled:{type:"string",enum:["overwrite","skip","error"],description:"What to do if the asset already exists."},step:{type:"string",const:"installPlugin",description:"The step identifier."},pluginZipFile:{$ref:"#/definitions/FileReference",description:"The plugin zip file to install."},options:{$ref:"#/definitions/InstallPluginOptions",description:"Optional installation options."}},required:["pluginZipFile","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},ifAlreadyInstalled:{type:"string",enum:["overwrite","skip","error"],description:"What to do if the asset already exists."},step:{type:"string",const:"installTheme",description:"The step identifier."},themeZipFile:{$ref:"#/definitions/FileReference",description:"The theme zip file to install."},options:{type:"object",properties:{activate:{type:"boolean",description:"Whether to activate the theme after installing it."},importStarterContent:{type:"boolean",description:"Whether to import the theme's starter content after installing it."}},additionalProperties:!1,description:"Optional installation options."}},required:["step","themeZipFile"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"login"},username:{type:"string",description:"The user to log in as. Defaults to 'admin'."},password:{type:"string",description:"The password to log in with. Defaults to 'password'."}},required:["step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"mkdir"},path:{type:"string",description:"The path of the directory you want to create"}},required:["path","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"mv"},fromPath:{type:"string",description:"Source path"},toPath:{type:"string",description:"Target path"}},required:["fromPath","step","toPath"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"resetData"}},required:["step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"request"},request:{$ref:"#/definitions/PHPRequest",description:"Request details (See /wordpress-playground/api/universal/interface/PHPRequest)"}},required:["request","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"rm"},path:{type:"string",description:"The path to remove"}},required:["path","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"rmdir"},path:{type:"string",description:"The path to remove"}},required:["path","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"runPHP",description:"The step identifier."},code:{type:"string",description:"The PHP code to run."}},required:["code","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"runPHPWithOptions"},options:{$ref:"#/definitions/PHPRunOptions",description:"Run options (See /wordpress-playground/api/universal/interface/PHPRunOptions/))"}},required:["options","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"runWpInstallationWizard"},options:{$ref:"#/definitions/WordPressInstallationOptions"}},required:["options","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"runSql",description:"The step identifier."},sql:{$ref:"#/definitions/FileReference",description:"The SQL to run. Each non-empty line must contain a valid SQL query."}},required:["sql","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"setSiteOptions",description:'The name of the step. Must be "setSiteOptions".'},options:{type:"object",additionalProperties:{},description:"The options to set on the site."}},required:["options","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"unzip"},zipFile:{$ref:"#/definitions/FileReference",description:"The zip file to extract"},zipPath:{type:"string",description:"The path of the zip file to extract",deprecated:"Use zipFile instead."},extractToPath:{type:"string",description:"The path to extract the zip file to"}},required:["extractToPath","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"updateUserMeta"},meta:{type:"object",additionalProperties:{},description:'An object of user meta values to set, e.g. { "first_name": "John" }'},userId:{type:"number",description:"User ID"}},required:["meta","step","userId"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"writeFile"},path:{type:"string",description:"The path of the file to write to"},data:{anyOf:[{$ref:"#/definitions/FileReference"},{type:"string"},{type:"object",properties:{BYTES_PER_ELEMENT:{type:"number"},buffer:{type:"object",properties:{byteLength:{type:"number"}},required:["byteLength"],additionalProperties:!1},byteLength:{type:"number"},byteOffset:{type:"number"},length:{type:"number"}},required:["BYTES_PER_ELEMENT","buffer","byteLength","byteOffset","length"],additionalProperties:{type:"number"}}],description:"The data to write"}},required:["data","path","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"wp-cli",description:"The step identifier."},command:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"The WP CLI command to run."},wpCliPath:{type:"string",description:"wp-cli.phar path"}},required:["command","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"setSiteLanguage"},language:{type:"string",description:"The language to set, e.g. 'en_US'"}},required:["language","step"]}]},is={type:"string",enum:["GET","POST","HEAD","OPTIONS","PATCH","PUT","DELETE"]};function Pe(t,{instancePath:s="",parentData:i,parentDataProperty:p,rootData:l=t}={}){let r=null,e=0;if(e===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let ie;if(t.url===void 0&&(ie="url"))return Pe.errors=[{instancePath:s,schemaPath:"#/required",keyword:"required",params:{missingProperty:ie},message:"must have required property '"+ie+"'"}],!1;{const J=e;for(const M in t)if(!(M==="method"||M==="url"||M==="headers"||M==="body"))return Pe.errors=[{instancePath:s,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties"}],!1;if(J===e){if(t.method!==void 0){let M=t.method;const _=e;if(typeof M!="string")return Pe.errors=[{instancePath:s+"/method",schemaPath:"#/definitions/HTTPMethod/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(M==="GET"||M==="POST"||M==="HEAD"||M==="OPTIONS"||M==="PATCH"||M==="PUT"||M==="DELETE"))return Pe.errors=[{instancePath:s+"/method",schemaPath:"#/definitions/HTTPMethod/enum",keyword:"enum",params:{allowedValues:is.enum},message:"must be equal to one of the allowed values"}],!1;var f=_===e}else var f=!0;if(f){if(t.url!==void 0){const _=e;if(typeof t.url!="string")return Pe.errors=[{instancePath:s+"/url",schemaPath:"#/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=_===e}else var f=!0;if(f){if(t.headers!==void 0){let P=t.headers;const N=e;if(e===e)if(P&&typeof P=="object"&&!Array.isArray(P))for(const v in P){const W=e;if(typeof P[v]!="string")return Pe.errors=[{instancePath:s+"/headers/"+v.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/PHPRequestHeaders/additionalProperties/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=W===e;if(!m)break}else return Pe.errors=[{instancePath:s+"/headers",schemaPath:"#/definitions/PHPRequestHeaders/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=N===e}else var f=!0;if(f)if(t.body!==void 0){let P=t.body;const N=e,I=e;let v=!1;const W=e;if(typeof P!="string"){const C={instancePath:s+"/body",schemaPath:"#/properties/body/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[C]:r.push(C),e++}var A=W===e;if(v=v||A,!v){const C=e;if(e===C)if(P&&typeof P=="object"&&!Array.isArray(P)){let D;if(P.BYTES_PER_ELEMENT===void 0&&(D="BYTES_PER_ELEMENT")||P.buffer===void 0&&(D="buffer")||P.byteLength===void 0&&(D="byteLength")||P.byteOffset===void 0&&(D="byteOffset")||P.length===void 0&&(D="length")){const j={instancePath:s+"/body",schemaPath:"#/properties/body/anyOf/1/required",keyword:"required",params:{missingProperty:D},message:"must have required property '"+D+"'"};r===null?r=[j]:r.push(j),e++}else{const j=e;for(const g in P)if(!(g==="BYTES_PER_ELEMENT"||g==="buffer"||g==="byteLength"||g==="byteOffset"||g==="length")){let h=P[g];const L=e;if(!(typeof h=="number"&&isFinite(h))){const k={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/1/additionalProperties/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[k]:r.push(k),e++}var T=L===e;if(!T)break}if(j===e){if(P.BYTES_PER_ELEMENT!==void 0){let g=P.BYTES_PER_ELEMENT;const h=e;if(!(typeof g=="number"&&isFinite(g))){const k={instancePath:s+"/body/BYTES_PER_ELEMENT",schemaPath:"#/properties/body/anyOf/1/properties/BYTES_PER_ELEMENT/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[k]:r.push(k),e++}var b=h===e}else var b=!0;if(b){if(P.buffer!==void 0){let h=P.buffer;const L=e;if(e===L)if(h&&typeof h=="object"&&!Array.isArray(h)){let E;if(h.byteLength===void 0&&(E="byteLength")){const U={instancePath:s+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/required",keyword:"required",params:{missingProperty:E},message:"must have required property '"+E+"'"};r===null?r=[U]:r.push(U),e++}else{const U=e;for(const $ in h)if($!=="byteLength"){const F={instancePath:s+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$},message:"must NOT have additional properties"};r===null?r=[F]:r.push(F),e++;break}if(U===e&&h.byteLength!==void 0){let $=h.byteLength;if(!(typeof $=="number"&&isFinite($))){const F={instancePath:s+"/body/buffer/byteLength",schemaPath:"#/properties/body/anyOf/1/properties/buffer/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[F]:r.push(F),e++}}}}else{const E={instancePath:s+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[E]:r.push(E),e++}var b=L===e}else var b=!0;if(b){if(P.byteLength!==void 0){let L=P.byteLength;const k=e;if(!(typeof L=="number"&&isFinite(L))){const U={instancePath:s+"/body/byteLength",schemaPath:"#/properties/body/anyOf/1/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[U]:r.push(U),e++}var b=k===e}else var b=!0;if(b){if(P.byteOffset!==void 0){let k=P.byteOffset;const E=e;if(!(typeof k=="number"&&isFinite(k))){const $={instancePath:s+"/body/byteOffset",schemaPath:"#/properties/body/anyOf/1/properties/byteOffset/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[$]:r.push($),e++}var b=E===e}else var b=!0;if(b)if(P.length!==void 0){let k=P.length;const E=e;if(!(typeof k=="number"&&isFinite(k))){const $={instancePath:s+"/body/length",schemaPath:"#/properties/body/anyOf/1/properties/length/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[$]:r.push($),e++}var b=E===e}else var b=!0}}}}}}else{const D={instancePath:s+"/body",schemaPath:"#/properties/body/anyOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[D]:r.push(D),e++}var A=C===e;if(v=v||A,!v){const D=e;if(e===D)if(P&&typeof P=="object"&&!Array.isArray(P))for(const g in P){let h=P[g];const L=e,k=e;let E=!1;const U=e;if(typeof h!="string"){const $={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[$]:r.push($),e++}var O=U===e;if(E=E||O,!E){const $=e;if(e===$)if(h&&typeof h=="object"&&!Array.isArray(h)){let z;if(h.BYTES_PER_ELEMENT===void 0&&(z="BYTES_PER_ELEMENT")||h.buffer===void 0&&(z="buffer")||h.byteLength===void 0&&(z="byteLength")||h.byteOffset===void 0&&(z="byteOffset")||h.length===void 0&&(z="length")){const Y={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/required",keyword:"required",params:{missingProperty:z},message:"must have required property '"+z+"'"};r===null?r=[Y]:r.push(Y),e++}else{const Y=e;for(const x in h)if(!(x==="BYTES_PER_ELEMENT"||x==="buffer"||x==="byteLength"||x==="byteOffset"||x==="length")){let B=h[x];const K=e;if(!(typeof B=="number"&&isFinite(B))){const Z={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+x.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/additionalProperties/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[Z]:r.push(Z),e++}var X=K===e;if(!X)break}if(Y===e){if(h.BYTES_PER_ELEMENT!==void 0){let x=h.BYTES_PER_ELEMENT;const B=e;if(!(typeof x=="number"&&isFinite(x))){const Z={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1")+"/BYTES_PER_ELEMENT",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/BYTES_PER_ELEMENT/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[Z]:r.push(Z),e++}var G=B===e}else var G=!0;if(G){if(h.buffer!==void 0){let B=h.buffer;const K=e;if(e===K)if(B&&typeof B=="object"&&!Array.isArray(B)){let ee;if(B.byteLength===void 0&&(ee="byteLength")){const se={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1")+"/buffer",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/buffer/required",keyword:"required",params:{missingProperty:ee},message:"must have required property '"+ee+"'"};r===null?r=[se]:r.push(se),e++}else{const se=e;for(const re in B)if(re!=="byteLength"){const oe={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1")+"/buffer",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/buffer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:re},message:"must NOT have additional properties"};r===null?r=[oe]:r.push(oe),e++;break}if(se===e&&B.byteLength!==void 0){let re=B.byteLength;if(!(typeof re=="number"&&isFinite(re))){const oe={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1")+"/buffer/byteLength",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/buffer/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[oe]:r.push(oe),e++}}}}else{const ee={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1")+"/buffer",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/buffer/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[ee]:r.push(ee),e++}var G=K===e}else var G=!0;if(G){if(h.byteLength!==void 0){let K=h.byteLength;const Z=e;if(!(typeof K=="number"&&isFinite(K))){const se={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1")+"/byteLength",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[se]:r.push(se),e++}var G=Z===e}else var G=!0;if(G){if(h.byteOffset!==void 0){let Z=h.byteOffset;const ee=e;if(!(typeof Z=="number"&&isFinite(Z))){const re={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1")+"/byteOffset",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/byteOffset/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[re]:r.push(re),e++}var G=ee===e}else var G=!0;if(G)if(h.length!==void 0){let Z=h.length;const ee=e;if(!(typeof Z=="number"&&isFinite(Z))){const re={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1")+"/length",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/length/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[re]:r.push(re),e++}var G=ee===e}else var G=!0}}}}}}else{const z={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[z]:r.push(z),e++}var O=$===e;if(E=E||O,!E){const z=e;if(e===z)if(h&&typeof h=="object"&&!Array.isArray(h)){let x;if(h.lastModified===void 0&&(x="lastModified")||h.name===void 0&&(x="name")||h.size===void 0&&(x="size")||h.type===void 0&&(x="type")||h.webkitRelativePath===void 0&&(x="webkitRelativePath")){const B={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/required",keyword:"required",params:{missingProperty:x},message:"must have required property '"+x+"'"};r===null?r=[B]:r.push(B),e++}else{const B=e;for(const K in h)if(!(K==="size"||K==="type"||K==="lastModified"||K==="name"||K==="webkitRelativePath")){const Z={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties"};r===null?r=[Z]:r.push(Z),e++;break}if(B===e){if(h.size!==void 0){let K=h.size;const Z=e;if(!(typeof K=="number"&&isFinite(K))){const se={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1")+"/size",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/properties/size/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[se]:r.push(se),e++}var V=Z===e}else var V=!0;if(V){if(h.type!==void 0){const Z=e;if(typeof h.type!="string"){const se={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[se]:r.push(se),e++}var V=Z===e}else var V=!0;if(V){if(h.lastModified!==void 0){let ee=h.lastModified;const se=e;if(!(typeof ee=="number"&&isFinite(ee))){const oe={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1")+"/lastModified",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/properties/lastModified/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[oe]:r.push(oe),e++}var V=se===e}else var V=!0;if(V){if(h.name!==void 0){const se=e;if(typeof h.name!="string"){const oe={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1")+"/name",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[oe]:r.push(oe),e++}var V=se===e}else var V=!0;if(V)if(h.webkitRelativePath!==void 0){const se=e;if(typeof h.webkitRelativePath!="string"){const oe={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1")+"/webkitRelativePath",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/properties/webkitRelativePath/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[oe]:r.push(oe),e++}var V=se===e}else var V=!0}}}}}}else{const x={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[x]:r.push(x),e++}var O=z===e;E=E||O}}if(E)e=k,r!==null&&(k?r.length=k:r=null);else{const $={instancePath:s+"/body/"+g.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};r===null?r=[$]:r.push($),e++}var ae=L===e;if(!ae)break}else{const g={instancePath:s+"/body",schemaPath:"#/properties/body/anyOf/2/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[g]:r.push(g),e++}var A=D===e;v=v||A}}if(v)e=I,r!==null&&(I?r.length=I:r=null);else{const C={instancePath:s+"/body",schemaPath:"#/properties/body/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return r===null?r=[C]:r.push(C),e++,Pe.errors=r,!1}var f=N===e}else var f=!0}}}}}else return Pe.errors=[{instancePath:s,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Pe.errors=r,e===0}const _r={type:"object",properties:{relativeUri:{type:"string",description:"Request path following the domain:port part."},scriptPath:{type:"string",description:"Path of the .php file to execute."},protocol:{type:"string",description:"Request protocol."},method:{$ref:"#/definitions/HTTPMethod",description:"Request method. Default: `GET`."},headers:{$ref:"#/definitions/PHPRequestHeaders",description:"Request headers."},body:{anyOf:[{type:"string"},{type:"object",properties:{BYTES_PER_ELEMENT:{type:"number"},buffer:{type:"object",properties:{byteLength:{type:"number"}},required:["byteLength"],additionalProperties:!1},byteLength:{type:"number"},byteOffset:{type:"number"},length:{type:"number"}},required:["BYTES_PER_ELEMENT","buffer","byteLength","byteOffset","length"],additionalProperties:{type:"number"}}],description:"Request body."},env:{type:"object",additionalProperties:{type:"string"},description:"Environment variables to set for this run."},$_SERVER:{type:"object",additionalProperties:{type:"string"},description:"$_SERVER entries to set for this run."},code:{type:"string",description:"The code snippet to eval instead of a php file."}},additionalProperties:!1};function le(t,{instancePath:s="",parentData:i,parentDataProperty:p,rootData:l=t}={}){let r=null,e=0;if(e===0)if(t&&typeof t=="object"&&!Array.isArray(t)){const G=e;for(const V in t)if(!as.call(_r.properties,V))return le.errors=[{instancePath:s,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:V},message:"must NOT have additional properties"}],!1;if(G===e){if(t.relativeUri!==void 0){const V=e;if(typeof t.relativeUri!="string")return le.errors=[{instancePath:s+"/relativeUri",schemaPath:"#/properties/relativeUri/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=V===e}else var f=!0;if(f){if(t.scriptPath!==void 0){const ae=e;if(typeof t.scriptPath!="string")return le.errors=[{instancePath:s+"/scriptPath",schemaPath:"#/properties/scriptPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=ae===e}else var f=!0;if(f){if(t.protocol!==void 0){const ie=e;if(typeof t.protocol!="string")return le.errors=[{instancePath:s+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=ie===e}else var f=!0;if(f){if(t.method!==void 0){let J=t.method;const M=e;if(typeof J!="string")return le.errors=[{instancePath:s+"/method",schemaPath:"#/definitions/HTTPMethod/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(J==="GET"||J==="POST"||J==="HEAD"||J==="OPTIONS"||J==="PATCH"||J==="PUT"||J==="DELETE"))return le.errors=[{instancePath:s+"/method",schemaPath:"#/definitions/HTTPMethod/enum",keyword:"enum",params:{allowedValues:is.enum},message:"must be equal to one of the allowed values"}],!1;var f=M===e}else var f=!0;if(f){if(t.headers!==void 0){let M=t.headers;const _=e;if(e===e)if(M&&typeof M=="object"&&!Array.isArray(M))for(const N in M){const I=e;if(typeof M[N]!="string")return le.errors=[{instancePath:s+"/headers/"+N.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/PHPRequestHeaders/additionalProperties/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=I===e;if(!m)break}else return le.errors=[{instancePath:s+"/headers",schemaPath:"#/definitions/PHPRequestHeaders/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=_===e}else var f=!0;if(f){if(t.body!==void 0){let _=t.body;const P=e,N=e;let I=!1;const v=e;if(typeof _!="string"){const q={instancePath:s+"/body",schemaPath:"#/properties/body/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[q]:r.push(q),e++}var A=v===e;if(I=I||A,!I){const q=e;if(e===q)if(_&&typeof _=="object"&&!Array.isArray(_)){let S;if(_.BYTES_PER_ELEMENT===void 0&&(S="BYTES_PER_ELEMENT")||_.buffer===void 0&&(S="buffer")||_.byteLength===void 0&&(S="byteLength")||_.byteOffset===void 0&&(S="byteOffset")||_.length===void 0&&(S="length")){const D={instancePath:s+"/body",schemaPath:"#/properties/body/anyOf/1/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"};r===null?r=[D]:r.push(D),e++}else{const D=e;for(const j in _)if(!(j==="BYTES_PER_ELEMENT"||j==="buffer"||j==="byteLength"||j==="byteOffset"||j==="length")){let g=_[j];const h=e;if(!(typeof g=="number"&&isFinite(g))){const L={instancePath:s+"/body/"+j.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/1/additionalProperties/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[L]:r.push(L),e++}var T=h===e;if(!T)break}if(D===e){if(_.BYTES_PER_ELEMENT!==void 0){let j=_.BYTES_PER_ELEMENT;const g=e;if(!(typeof j=="number"&&isFinite(j))){const L={instancePath:s+"/body/BYTES_PER_ELEMENT",schemaPath:"#/properties/body/anyOf/1/properties/BYTES_PER_ELEMENT/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[L]:r.push(L),e++}var b=g===e}else var b=!0;if(b){if(_.buffer!==void 0){let g=_.buffer;const h=e;if(e===h)if(g&&typeof g=="object"&&!Array.isArray(g)){let k;if(g.byteLength===void 0&&(k="byteLength")){const E={instancePath:s+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"};r===null?r=[E]:r.push(E),e++}else{const E=e;for(const U in g)if(U!=="byteLength"){const $={instancePath:s+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:U},message:"must NOT have additional properties"};r===null?r=[$]:r.push($),e++;break}if(E===e&&g.byteLength!==void 0){let U=g.byteLength;if(!(typeof U=="number"&&isFinite(U))){const $={instancePath:s+"/body/buffer/byteLength",schemaPath:"#/properties/body/anyOf/1/properties/buffer/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[$]:r.push($),e++}}}}else{const k={instancePath:s+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[k]:r.push(k),e++}var b=h===e}else var b=!0;if(b){if(_.byteLength!==void 0){let h=_.byteLength;const L=e;if(!(typeof h=="number"&&isFinite(h))){const E={instancePath:s+"/body/byteLength",schemaPath:"#/properties/body/anyOf/1/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[E]:r.push(E),e++}var b=L===e}else var b=!0;if(b){if(_.byteOffset!==void 0){let L=_.byteOffset;const k=e;if(!(typeof L=="number"&&isFinite(L))){const U={instancePath:s+"/body/byteOffset",schemaPath:"#/properties/body/anyOf/1/properties/byteOffset/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[U]:r.push(U),e++}var b=k===e}else var b=!0;if(b)if(_.length!==void 0){let L=_.length;const k=e;if(!(typeof L=="number"&&isFinite(L))){const U={instancePath:s+"/body/length",schemaPath:"#/properties/body/anyOf/1/properties/length/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[U]:r.push(U),e++}var b=k===e}else var b=!0}}}}}}else{const S={instancePath:s+"/body",schemaPath:"#/properties/body/anyOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[S]:r.push(S),e++}var A=q===e;I=I||A}if(I)e=N,r!==null&&(N?r.length=N:r=null);else{const q={instancePath:s+"/body",schemaPath:"#/properties/body/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return r===null?r=[q]:r.push(q),e++,le.errors=r,!1}var f=P===e}else var f=!0;if(f){if(t.env!==void 0){let P=t.env;const N=e;if(e===N)if(P&&typeof P=="object"&&!Array.isArray(P))for(const v in P){const W=e;if(typeof P[v]!="string")return le.errors=[{instancePath:s+"/env/"+v.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/env/additionalProperties/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var O=W===e;if(!O)break}else return le.errors=[{instancePath:s+"/env",schemaPath:"#/properties/env/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=N===e}else var f=!0;if(f){if(t.$_SERVER!==void 0){let N=t.$_SERVER;const I=e;if(e===I)if(N&&typeof N=="object"&&!Array.isArray(N))for(const W in N){const q=e;if(typeof N[W]!="string")return le.errors=[{instancePath:s+"/$_SERVER/"+W.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24_SERVER/additionalProperties/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=q===e;if(!X)break}else return le.errors=[{instancePath:s+"/$_SERVER",schemaPath:"#/properties/%24_SERVER/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=I===e}else var f=!0;if(f)if(t.code!==void 0){const N=e;if(typeof t.code!="string")return le.errors=[{instancePath:s+"/code",schemaPath:"#/properties/code/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=N===e}else var f=!0}}}}}}}}}else return le.errors=[{instancePath:s,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return le.errors=r,e===0}function o(t,{instancePath:s="",parentData:i,parentDataProperty:p,rootData:l=t}={}){let r=null,e=0;if(e===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let dt;if(t.step===void 0&&(dt="step"))return o.errors=[{instancePath:s,schemaPath:"#/required",keyword:"required",params:{missingProperty:dt},message:"must have required property '"+dt+"'"}],!1;{const Q=t.step;if(typeof Q=="string")if(Q==="activatePlugin"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.pluginPath===void 0&&(u="pluginPath")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="pluginPath"||a==="pluginName"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/0/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/0/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var f=w===e}else var f=!0;if(f)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/0/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=n===e}else var f=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/0/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=c===e}else var m=!0;if(m){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/0/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="activatePlugin")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/0/properties/step/const",keyword:"const",params:{allowedValue:"activatePlugin"},message:"must be equal to constant"}],!1;var m=d===e}else var m=!0;if(m){if(t.pluginPath!==void 0){const d=e;if(typeof t.pluginPath!="string")return o.errors=[{instancePath:s+"/pluginPath",schemaPath:"#/oneOf/0/properties/pluginPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=d===e}else var m=!0;if(m)if(t.pluginName!==void 0){const d=e;if(typeof t.pluginName!="string")return o.errors=[{instancePath:s+"/pluginName",schemaPath:"#/oneOf/0/properties/pluginName/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=d===e}else var m=!0}}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="activateTheme"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.step===void 0&&(u="step")||t.themeFolderName===void 0&&(u="themeFolderName"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="themeFolderName"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/1/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/1/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var A=w===e}else var A=!0;if(A)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/1/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var A=n===e}else var A=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/1/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var T=c===e}else var T=!0;if(T){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/1/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="activateTheme")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/1/properties/step/const",keyword:"const",params:{allowedValue:"activateTheme"},message:"must be equal to constant"}],!1;var T=d===e}else var T=!0;if(T)if(t.themeFolderName!==void 0){const c=e;if(typeof t.themeFolderName!="string")return o.errors=[{instancePath:s+"/themeFolderName",schemaPath:"#/oneOf/1/properties/themeFolderName/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var T=c===e}else var T=!0}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="cp"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.fromPath===void 0&&(u="fromPath")||t.step===void 0&&(u="step")||t.toPath===void 0&&(u="toPath"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="fromPath"||a==="toPath"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/2/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/2/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/2/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var b=w===e}else var b=!0;if(b)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/2/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=n===e}else var b=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/2/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var O=c===e}else var O=!0;if(O){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/2/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="cp")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/2/properties/step/const",keyword:"const",params:{allowedValue:"cp"},message:"must be equal to constant"}],!1;var O=d===e}else var O=!0;if(O){if(t.fromPath!==void 0){const d=e;if(typeof t.fromPath!="string")return o.errors=[{instancePath:s+"/fromPath",schemaPath:"#/oneOf/2/properties/fromPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var O=d===e}else var O=!0;if(O)if(t.toPath!==void 0){const d=e;if(typeof t.toPath!="string")return o.errors=[{instancePath:s+"/toPath",schemaPath:"#/oneOf/2/properties/toPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var O=d===e}else var O=!0}}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/2/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="defineWpConfigConsts"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.consts===void 0&&(u="consts")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="consts"||a==="method"||a==="virtualize"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/3/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/3/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/3/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var X=w===e}else var X=!0;if(X)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/3/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=n===e}else var X=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/3/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var G=c===e}else var G=!0;if(G){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/3/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="defineWpConfigConsts")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/3/properties/step/const",keyword:"const",params:{allowedValue:"defineWpConfigConsts"},message:"must be equal to constant"}],!1;var G=d===e}else var G=!0;if(G){if(t.consts!==void 0){let d=t.consts;const y=e;if(e===y&&!(d&&typeof d=="object"&&!Array.isArray(d)))return o.errors=[{instancePath:s+"/consts",schemaPath:"#/oneOf/3/properties/consts/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var G=y===e}else var G=!0;if(G){if(t.method!==void 0){let y=t.method;const n=e;if(typeof y!="string")return o.errors=[{instancePath:s+"/method",schemaPath:"#/oneOf/3/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(y==="rewrite-wp-config"||y==="define-before-run"))return o.errors=[{instancePath:s+"/method",schemaPath:"#/oneOf/3/properties/method/enum",keyword:"enum",params:{allowedValues:gt.oneOf[3].properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var G=n===e}else var G=!0;if(G)if(t.virtualize!==void 0){const y=e;if(typeof t.virtualize!="boolean")return o.errors=[{instancePath:s+"/virtualize",schemaPath:"#/oneOf/3/properties/virtualize/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var G=y===e}else var G=!0}}}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/3/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="defineSiteUrl"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.siteUrl===void 0&&(u="siteUrl")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/4/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="siteUrl"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/4/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/4/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/4/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var V=w===e}else var V=!0;if(V)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/4/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var V=n===e}else var V=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/4/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var ae=c===e}else var ae=!0;if(ae){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/4/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="defineSiteUrl")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/4/properties/step/const",keyword:"const",params:{allowedValue:"defineSiteUrl"},message:"must be equal to constant"}],!1;var ae=d===e}else var ae=!0;if(ae)if(t.siteUrl!==void 0){const c=e;if(typeof t.siteUrl!="string")return o.errors=[{instancePath:s+"/siteUrl",schemaPath:"#/oneOf/4/properties/siteUrl/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ae=c===e}else var ae=!0}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/4/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="enableMultisite"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/5/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/5/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/5/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/5/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var ie=w===e}else var ie=!0;if(ie)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/5/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ie=n===e}else var ie=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/5/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var J=c===e}else var J=!0;if(J)if(t.step!==void 0){let a=t.step;const c=e;if(typeof a!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/5/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="enableMultisite")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/5/properties/step/const",keyword:"const",params:{allowedValue:"enableMultisite"},message:"must be equal to constant"}],!1;var J=c===e}else var J=!0}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/5/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="importWxr"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.file===void 0&&(u="file")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/6/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="file"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/6/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/6/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/6/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var M=w===e}else var M=!0;if(M)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/6/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var M=n===e}else var M=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/6/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var _=c===e}else var _=!0;if(_){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/6/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="importWxr")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/6/properties/step/const",keyword:"const",params:{allowedValue:"importWxr"},message:"must be equal to constant"}],!1;var _=d===e}else var _=!0;if(_)if(t.file!==void 0){const c=e;te(t.file,{instancePath:s+"/file",parentData:t,parentDataProperty:"file",rootData:l})||(r=r===null?te.errors:r.concat(te.errors),e=r.length);var _=c===e}else var _=!0}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/6/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="importThemeStarterContent"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/7/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="themeSlug"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/7/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/7/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/7/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var P=w===e}else var P=!0;if(P)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/7/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var P=n===e}else var P=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/7/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var N=c===e}else var N=!0;if(N){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/7/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="importThemeStarterContent")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/7/properties/step/const",keyword:"const",params:{allowedValue:"importThemeStarterContent"},message:"must be equal to constant"}],!1;var N=d===e}else var N=!0;if(N)if(t.themeSlug!==void 0){const c=e;if(typeof t.themeSlug!="string")return o.errors=[{instancePath:s+"/themeSlug",schemaPath:"#/oneOf/7/properties/themeSlug/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=c===e}else var N=!0}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/7/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="importWordPressFiles"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.step===void 0&&(u="step")||t.wordPressFilesZip===void 0&&(u="wordPressFilesZip"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/8/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="wordPressFilesZip"||a==="pathInZip"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/8/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/8/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/8/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var I=w===e}else var I=!0;if(I)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/8/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=n===e}else var I=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/8/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var v=c===e}else var v=!0;if(v){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/8/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="importWordPressFiles")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/8/properties/step/const",keyword:"const",params:{allowedValue:"importWordPressFiles"},message:"must be equal to constant"}],!1;var v=d===e}else var v=!0;if(v){if(t.wordPressFilesZip!==void 0){const d=e;te(t.wordPressFilesZip,{instancePath:s+"/wordPressFilesZip",parentData:t,parentDataProperty:"wordPressFilesZip",rootData:l})||(r=r===null?te.errors:r.concat(te.errors),e=r.length);var v=d===e}else var v=!0;if(v)if(t.pathInZip!==void 0){const d=e;if(typeof t.pathInZip!="string")return o.errors=[{instancePath:s+"/pathInZip",schemaPath:"#/oneOf/8/properties/pathInZip/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=d===e}else var v=!0}}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/8/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="installPlugin"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.pluginZipFile===void 0&&(u="pluginZipFile")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/9/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="ifAlreadyInstalled"||a==="step"||a==="pluginZipFile"||a==="options"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/9/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/9/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/9/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var W=w===e}else var W=!0;if(W)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/9/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=n===e}else var W=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/9/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var q=c===e}else var q=!0;if(q){if(t.ifAlreadyInstalled!==void 0){let c=t.ifAlreadyInstalled;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/ifAlreadyInstalled",schemaPath:"#/oneOf/9/properties/ifAlreadyInstalled/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(c==="overwrite"||c==="skip"||c==="error"))return o.errors=[{instancePath:s+"/ifAlreadyInstalled",schemaPath:"#/oneOf/9/properties/ifAlreadyInstalled/enum",keyword:"enum",params:{allowedValues:gt.oneOf[9].properties.ifAlreadyInstalled.enum},message:"must be equal to one of the allowed values"}],!1;var q=d===e}else var q=!0;if(q){if(t.step!==void 0){let d=t.step;const y=e;if(typeof d!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/9/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(d!=="installPlugin")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/9/properties/step/const",keyword:"const",params:{allowedValue:"installPlugin"},message:"must be equal to constant"}],!1;var q=y===e}else var q=!0;if(q){if(t.pluginZipFile!==void 0){const y=e;te(t.pluginZipFile,{instancePath:s+"/pluginZipFile",parentData:t,parentDataProperty:"pluginZipFile",rootData:l})||(r=r===null?te.errors:r.concat(te.errors),e=r.length);var q=y===e}else var q=!0;if(q)if(t.options!==void 0){let y=t.options;const n=e;if(e===e)if(y&&typeof y=="object"&&!Array.isArray(y)){const Fe=e;for(const Ae in y)if(Ae!=="activate")return o.errors=[{instancePath:s+"/options",schemaPath:"#/definitions/InstallPluginOptions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ae},message:"must NOT have additional properties"}],!1;if(Fe===e&&y.activate!==void 0&&typeof y.activate!="boolean")return o.errors=[{instancePath:s+"/options/activate",schemaPath:"#/definitions/InstallPluginOptions/properties/activate/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1}else return o.errors=[{instancePath:s+"/options",schemaPath:"#/definitions/InstallPluginOptions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var q=n===e}else var q=!0}}}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/9/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="installTheme"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.step===void 0&&(u="step")||t.themeZipFile===void 0&&(u="themeZipFile"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/10/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="ifAlreadyInstalled"||a==="step"||a==="themeZipFile"||a==="options"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/10/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/10/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/10/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var C=w===e}else var C=!0;if(C)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/10/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=n===e}else var C=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/10/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var S=c===e}else var S=!0;if(S){if(t.ifAlreadyInstalled!==void 0){let c=t.ifAlreadyInstalled;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/ifAlreadyInstalled",schemaPath:"#/oneOf/10/properties/ifAlreadyInstalled/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(c==="overwrite"||c==="skip"||c==="error"))return o.errors=[{instancePath:s+"/ifAlreadyInstalled",schemaPath:"#/oneOf/10/properties/ifAlreadyInstalled/enum",keyword:"enum",params:{allowedValues:gt.oneOf[10].properties.ifAlreadyInstalled.enum},message:"must be equal to one of the allowed values"}],!1;var S=d===e}else var S=!0;if(S){if(t.step!==void 0){let d=t.step;const y=e;if(typeof d!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/10/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(d!=="installTheme")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/10/properties/step/const",keyword:"const",params:{allowedValue:"installTheme"},message:"must be equal to constant"}],!1;var S=y===e}else var S=!0;if(S){if(t.themeZipFile!==void 0){const y=e;te(t.themeZipFile,{instancePath:s+"/themeZipFile",parentData:t,parentDataProperty:"themeZipFile",rootData:l})||(r=r===null?te.errors:r.concat(te.errors),e=r.length);var S=y===e}else var S=!0;if(S)if(t.options!==void 0){let y=t.options;const n=e;if(e===n)if(y&&typeof y=="object"&&!Array.isArray(y)){const Fe=e;for(const Ae in y)if(!(Ae==="activate"||Ae==="importStarterContent"))return o.errors=[{instancePath:s+"/options",schemaPath:"#/oneOf/10/properties/options/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ae},message:"must NOT have additional properties"}],!1;if(Fe===e){if(y.activate!==void 0){const Ae=e;if(typeof y.activate!="boolean")return o.errors=[{instancePath:s+"/options/activate",schemaPath:"#/oneOf/10/properties/options/properties/activate/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var D=Ae===e}else var D=!0;if(D)if(y.importStarterContent!==void 0){const Ae=e;if(typeof y.importStarterContent!="boolean")return o.errors=[{instancePath:s+"/options/importStarterContent",schemaPath:"#/oneOf/10/properties/options/properties/importStarterContent/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var D=Ae===e}else var D=!0}}else return o.errors=[{instancePath:s+"/options",schemaPath:"#/oneOf/10/properties/options/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var S=n===e}else var S=!0}}}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/10/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="login"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/11/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="username"||a==="password"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/11/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/11/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/11/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var j=w===e}else var j=!0;if(j)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/11/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var j=n===e}else var j=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/11/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var g=c===e}else var g=!0;if(g){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/11/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="login")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/11/properties/step/const",keyword:"const",params:{allowedValue:"login"},message:"must be equal to constant"}],!1;var g=d===e}else var g=!0;if(g){if(t.username!==void 0){const d=e;if(typeof t.username!="string")return o.errors=[{instancePath:s+"/username",schemaPath:"#/oneOf/11/properties/username/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var g=d===e}else var g=!0;if(g)if(t.password!==void 0){const d=e;if(typeof t.password!="string")return o.errors=[{instancePath:s+"/password",schemaPath:"#/oneOf/11/properties/password/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var g=d===e}else var g=!0}}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/11/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="mkdir"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.path===void 0&&(u="path")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/12/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="path"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/12/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/12/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/12/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var h=w===e}else var h=!0;if(h)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/12/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var h=n===e}else var h=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/12/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var L=c===e}else var L=!0;if(L){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/12/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="mkdir")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/12/properties/step/const",keyword:"const",params:{allowedValue:"mkdir"},message:"must be equal to constant"}],!1;var L=d===e}else var L=!0;if(L)if(t.path!==void 0){const c=e;if(typeof t.path!="string")return o.errors=[{instancePath:s+"/path",schemaPath:"#/oneOf/12/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var L=c===e}else var L=!0}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/12/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="mv"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.fromPath===void 0&&(u="fromPath")||t.step===void 0&&(u="step")||t.toPath===void 0&&(u="toPath"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/13/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="fromPath"||a==="toPath"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/13/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/13/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/13/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var k=w===e}else var k=!0;if(k)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/13/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=n===e}else var k=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/13/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var E=c===e}else var E=!0;if(E){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/13/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="mv")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/13/properties/step/const",keyword:"const",params:{allowedValue:"mv"},message:"must be equal to constant"}],!1;var E=d===e}else var E=!0;if(E){if(t.fromPath!==void 0){const d=e;if(typeof t.fromPath!="string")return o.errors=[{instancePath:s+"/fromPath",schemaPath:"#/oneOf/13/properties/fromPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var E=d===e}else var E=!0;if(E)if(t.toPath!==void 0){const d=e;if(typeof t.toPath!="string")return o.errors=[{instancePath:s+"/toPath",schemaPath:"#/oneOf/13/properties/toPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var E=d===e}else var E=!0}}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/13/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="resetData"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/14/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/14/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/14/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/14/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var U=w===e}else var U=!0;if(U)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/14/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var U=n===e}else var U=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/14/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var $=c===e}else var $=!0;if($)if(t.step!==void 0){let a=t.step;const c=e;if(typeof a!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/14/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(a!=="resetData")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/14/properties/step/const",keyword:"const",params:{allowedValue:"resetData"},message:"must be equal to constant"}],!1;var $=c===e}else var $=!0}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/14/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="request"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.request===void 0&&(u="request")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/15/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="request"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/15/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/15/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/15/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var F=w===e}else var F=!0;if(F)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/15/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var F=n===e}else var F=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/15/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var z=c===e}else var z=!0;if(z){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/15/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="request")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/15/properties/step/const",keyword:"const",params:{allowedValue:"request"},message:"must be equal to constant"}],!1;var z=d===e}else var z=!0;if(z)if(t.request!==void 0){const c=e;Pe(t.request,{instancePath:s+"/request",parentData:t,parentDataProperty:"request",rootData:l})||(r=r===null?Pe.errors:r.concat(Pe.errors),e=r.length);var z=c===e}else var z=!0}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/15/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="rm"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.path===void 0&&(u="path")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/16/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="path"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/16/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/16/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/16/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Y=w===e}else var Y=!0;if(Y)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/16/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Y=n===e}else var Y=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/16/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var x=c===e}else var x=!0;if(x){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/16/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="rm")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/16/properties/step/const",keyword:"const",params:{allowedValue:"rm"},message:"must be equal to constant"}],!1;var x=d===e}else var x=!0;if(x)if(t.path!==void 0){const c=e;if(typeof t.path!="string")return o.errors=[{instancePath:s+"/path",schemaPath:"#/oneOf/16/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var x=c===e}else var x=!0}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/16/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="rmdir"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.path===void 0&&(u="path")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/17/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="path"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/17/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/17/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/17/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var B=w===e}else var B=!0;if(B)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/17/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=n===e}else var B=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/17/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var K=c===e}else var K=!0;if(K){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/17/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="rmdir")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/17/properties/step/const",keyword:"const",params:{allowedValue:"rmdir"},message:"must be equal to constant"}],!1;var K=d===e}else var K=!0;if(K)if(t.path!==void 0){const c=e;if(typeof t.path!="string")return o.errors=[{instancePath:s+"/path",schemaPath:"#/oneOf/17/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var K=c===e}else var K=!0}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/17/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="runPHP"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.code===void 0&&(u="code")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/18/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="code"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/18/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/18/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/18/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Z=w===e}else var Z=!0;if(Z)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/18/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Z=n===e}else var Z=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/18/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var ee=c===e}else var ee=!0;if(ee){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/18/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="runPHP")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/18/properties/step/const",keyword:"const",params:{allowedValue:"runPHP"},message:"must be equal to constant"}],!1;var ee=d===e}else var ee=!0;if(ee)if(t.code!==void 0){const c=e;if(typeof t.code!="string")return o.errors=[{instancePath:s+"/code",schemaPath:"#/oneOf/18/properties/code/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ee=c===e}else var ee=!0}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/18/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="runPHPWithOptions"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.options===void 0&&(u="options")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/19/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="options"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/19/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/19/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/19/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var se=w===e}else var se=!0;if(se)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/19/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var se=n===e}else var se=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/19/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var re=c===e}else var re=!0;if(re){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/19/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="runPHPWithOptions")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/19/properties/step/const",keyword:"const",params:{allowedValue:"runPHPWithOptions"},message:"must be equal to constant"}],!1;var re=d===e}else var re=!0;if(re)if(t.options!==void 0){const c=e;le(t.options,{instancePath:s+"/options",parentData:t,parentDataProperty:"options",rootData:l})||(r=r===null?le.errors:r.concat(le.errors),e=r.length);var re=c===e}else var re=!0}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/19/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="runWpInstallationWizard"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.options===void 0&&(u="options")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/20/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="options"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/20/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/20/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/20/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var oe=w===e}else var oe=!0;if(oe)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/20/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var oe=n===e}else var oe=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/20/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Re=c===e}else var Re=!0;if(Re){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/20/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="runWpInstallationWizard")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/20/properties/step/const",keyword:"const",params:{allowedValue:"runWpInstallationWizard"},message:"must be equal to constant"}],!1;var Re=d===e}else var Re=!0;if(Re)if(t.options!==void 0){let c=t.options;const d=e;if(e===e)if(c&&typeof c=="object"&&!Array.isArray(c)){const n=e;for(const w in c)if(!(w==="adminUsername"||w==="adminPassword"))return o.errors=[{instancePath:s+"/options",schemaPath:"#/definitions/WordPressInstallationOptions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:w},message:"must NOT have additional properties"}],!1;if(n===e){if(c.adminUsername!==void 0){const w=e;if(typeof c.adminUsername!="string")return o.errors=[{instancePath:s+"/options/adminUsername",schemaPath:"#/definitions/WordPressInstallationOptions/properties/adminUsername/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ie=w===e}else var Ie=!0;if(Ie)if(c.adminPassword!==void 0){const w=e;if(typeof c.adminPassword!="string")return o.errors=[{instancePath:s+"/options/adminPassword",schemaPath:"#/definitions/WordPressInstallationOptions/properties/adminPassword/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ie=w===e}else var Ie=!0}}else return o.errors=[{instancePath:s+"/options",schemaPath:"#/definitions/WordPressInstallationOptions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Re=d===e}else var Re=!0}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/20/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="runSql"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.sql===void 0&&(u="sql")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/21/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="sql"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/21/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/21/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/21/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var ze=w===e}else var ze=!0;if(ze)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/21/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ze=n===e}else var ze=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/21/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var fe=c===e}else var fe=!0;if(fe){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/21/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="runSql")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/21/properties/step/const",keyword:"const",params:{allowedValue:"runSql"},message:"must be equal to constant"}],!1;var fe=d===e}else var fe=!0;if(fe)if(t.sql!==void 0){const c=e;te(t.sql,{instancePath:s+"/sql",parentData:t,parentDataProperty:"sql",rootData:l})||(r=r===null?te.errors:r.concat(te.errors),e=r.length);var fe=c===e}else var fe=!0}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/21/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="setSiteOptions"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.options===void 0&&(u="options")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/22/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="options"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/22/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/22/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/22/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Ve=w===e}else var Ve=!0;if(Ve)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/22/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ve=n===e}else var Ve=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/22/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Ee=c===e}else var Ee=!0;if(Ee){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/22/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="setSiteOptions")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/22/properties/step/const",keyword:"const",params:{allowedValue:"setSiteOptions"},message:"must be equal to constant"}],!1;var Ee=d===e}else var Ee=!0;if(Ee)if(t.options!==void 0){let c=t.options;const d=e;if(e===d&&!(c&&typeof c=="object"&&!Array.isArray(c)))return o.errors=[{instancePath:s+"/options",schemaPath:"#/oneOf/22/properties/options/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Ee=d===e}else var Ee=!0}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/22/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="unzip"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.extractToPath===void 0&&(u="extractToPath")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/23/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="zipFile"||a==="zipPath"||a==="extractToPath"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/23/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/23/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/23/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var He=w===e}else var He=!0;if(He)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/23/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var He=n===e}else var He=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/23/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var de=c===e}else var de=!0;if(de){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/23/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="unzip")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/23/properties/step/const",keyword:"const",params:{allowedValue:"unzip"},message:"must be equal to constant"}],!1;var de=d===e}else var de=!0;if(de){if(t.zipFile!==void 0){const d=e;te(t.zipFile,{instancePath:s+"/zipFile",parentData:t,parentDataProperty:"zipFile",rootData:l})||(r=r===null?te.errors:r.concat(te.errors),e=r.length);var de=d===e}else var de=!0;if(de){if(t.zipPath!==void 0){const y=e;if(typeof t.zipPath!="string")return o.errors=[{instancePath:s+"/zipPath",schemaPath:"#/oneOf/23/properties/zipPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var de=y===e}else var de=!0;if(de)if(t.extractToPath!==void 0){const y=e;if(typeof t.extractToPath!="string")return o.errors=[{instancePath:s+"/extractToPath",schemaPath:"#/oneOf/23/properties/extractToPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var de=y===e}else var de=!0}}}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/23/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="updateUserMeta"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.meta===void 0&&(u="meta")||t.step===void 0&&(u="step")||t.userId===void 0&&(u="userId"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/24/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="meta"||a==="userId"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/24/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/24/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Ge=w===e}else var Ge=!0;if(Ge)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/24/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ge=n===e}else var Ge=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/24/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var $e=c===e}else var $e=!0;if($e){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/24/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="updateUserMeta")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/24/properties/step/const",keyword:"const",params:{allowedValue:"updateUserMeta"},message:"must be equal to constant"}],!1;var $e=d===e}else var $e=!0;if($e){if(t.meta!==void 0){let d=t.meta;const y=e;if(e===y&&!(d&&typeof d=="object"&&!Array.isArray(d)))return o.errors=[{instancePath:s+"/meta",schemaPath:"#/oneOf/24/properties/meta/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var $e=y===e}else var $e=!0;if($e)if(t.userId!==void 0){let d=t.userId;const y=e;if(!(typeof d=="number"&&isFinite(d)))return o.errors=[{instancePath:s+"/userId",schemaPath:"#/oneOf/24/properties/userId/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var $e=y===e}else var $e=!0}}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/24/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="writeFile"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.data===void 0&&(u="data")||t.path===void 0&&(u="path")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/25/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="path"||a==="data"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/25/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/25/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/25/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Ye=w===e}else var Ye=!0;if(Ye)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/25/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ye=n===e}else var Ye=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/25/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Te=c===e}else var Te=!0;if(Te){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/25/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="writeFile")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/25/properties/step/const",keyword:"const",params:{allowedValue:"writeFile"},message:"must be equal to constant"}],!1;var Te=d===e}else var Te=!0;if(Te){if(t.path!==void 0){const d=e;if(typeof t.path!="string")return o.errors=[{instancePath:s+"/path",schemaPath:"#/oneOf/25/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Te=d===e}else var Te=!0;if(Te)if(t.data!==void 0){let d=t.data;const y=e,n=e;let w=!1;const Fe=e;te(d,{instancePath:s+"/data",parentData:t,parentDataProperty:"data",rootData:l})||(r=r===null?te.errors:r.concat(te.errors),e=r.length);var Me=Fe===e;if(w=w||Me,!w){const me=e;if(typeof d!="string"){const qe={instancePath:s+"/data",schemaPath:"#/oneOf/25/properties/data/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[qe]:r.push(qe),e++}var Me=me===e;if(w=w||Me,!w){const qe=e;if(e===qe)if(d&&typeof d=="object"&&!Array.isArray(d)){let be;if(d.BYTES_PER_ELEMENT===void 0&&(be="BYTES_PER_ELEMENT")||d.buffer===void 0&&(be="buffer")||d.byteLength===void 0&&(be="byteLength")||d.byteOffset===void 0&&(be="byteOffset")||d.length===void 0&&(be="length")){const Ke={instancePath:s+"/data",schemaPath:"#/oneOf/25/properties/data/anyOf/2/required",keyword:"required",params:{missingProperty:be},message:"must have required property '"+be+"'"};r===null?r=[Ke]:r.push(Ke),e++}else{const Ke=e;for(const ye in d)if(!(ye==="BYTES_PER_ELEMENT"||ye==="buffer"||ye==="byteLength"||ye==="byteOffset"||ye==="length")){let we=d[ye];const xe=e;if(!(typeof we=="number"&&isFinite(we))){const ge={instancePath:s+"/data/"+ye.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/oneOf/25/properties/data/anyOf/2/additionalProperties/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[ge]:r.push(ge),e++}var ds=xe===e;if(!ds)break}if(Ke===e){if(d.BYTES_PER_ELEMENT!==void 0){let ye=d.BYTES_PER_ELEMENT;const we=e;if(!(typeof ye=="number"&&isFinite(ye))){const ge={instancePath:s+"/data/BYTES_PER_ELEMENT",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/BYTES_PER_ELEMENT/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[ge]:r.push(ge),e++}var he=we===e}else var he=!0;if(he){if(d.buffer!==void 0){let we=d.buffer;const xe=e;if(e===xe)if(we&&typeof we=="object"&&!Array.isArray(we)){let Le;if(we.byteLength===void 0&&(Le="byteLength")){const Ne={instancePath:s+"/data/buffer",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/buffer/required",keyword:"required",params:{missingProperty:Le},message:"must have required property '"+Le+"'"};r===null?r=[Ne]:r.push(Ne),e++}else{const Ne=e;for(const _e in we)if(_e!=="byteLength"){const Be={instancePath:s+"/data/buffer",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/buffer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_e},message:"must NOT have additional properties"};r===null?r=[Be]:r.push(Be),e++;break}if(Ne===e&&we.byteLength!==void 0){let _e=we.byteLength;if(!(typeof _e=="number"&&isFinite(_e))){const Be={instancePath:s+"/data/buffer/byteLength",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/buffer/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[Be]:r.push(Be),e++}}}}else{const Le={instancePath:s+"/data/buffer",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/buffer/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[Le]:r.push(Le),e++}var he=xe===e}else var he=!0;if(he){if(d.byteLength!==void 0){let xe=d.byteLength;const ge=e;if(!(typeof xe=="number"&&isFinite(xe))){const Ne={instancePath:s+"/data/byteLength",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[Ne]:r.push(Ne),e++}var he=ge===e}else var he=!0;if(he){if(d.byteOffset!==void 0){let ge=d.byteOffset;const Le=e;if(!(typeof ge=="number"&&isFinite(ge))){const _e={instancePath:s+"/data/byteOffset",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/byteOffset/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[_e]:r.push(_e),e++}var he=Le===e}else var he=!0;if(he)if(d.length!==void 0){let ge=d.length;const Le=e;if(!(typeof ge=="number"&&isFinite(ge))){const _e={instancePath:s+"/data/length",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/length/type",keyword:"type",params:{type:"number"},message:"must be number"};r===null?r=[_e]:r.push(_e),e++}var he=Le===e}else var he=!0}}}}}}else{const be={instancePath:s+"/data",schemaPath:"#/oneOf/25/properties/data/anyOf/2/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[be]:r.push(be),e++}var Me=qe===e;w=w||Me}}if(w)e=n,r!==null&&(n?r.length=n:r=null);else{const me={instancePath:s+"/data",schemaPath:"#/oneOf/25/properties/data/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return r===null?r=[me]:r.push(me),e++,o.errors=r,!1}var Te=y===e}else var Te=!0}}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/25/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="wp-cli"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.command===void 0&&(u="command")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/26/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="command"||a==="wpCliPath"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/26/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/26/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/26/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Ze=w===e}else var Ze=!0;if(Ze)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/26/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ze=n===e}else var Ze=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/26/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var je=c===e}else var je=!0;if(je){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/26/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="wp-cli")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/26/properties/step/const",keyword:"const",params:{allowedValue:"wp-cli"},message:"must be equal to constant"}],!1;var je=d===e}else var je=!0;if(je){if(t.command!==void 0){let d=t.command;const y=e,n=e;let w=!1;const Fe=e;if(typeof d!="string"){const me={instancePath:s+"/command",schemaPath:"#/oneOf/26/properties/command/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[me]:r.push(me),e++}var ut=Fe===e;if(w=w||ut,!w){const me=e;if(e===me)if(Array.isArray(d)){var jt=!0;const qe=d.length;for(let Je=0;Je<qe;Je++){const be=e;if(typeof d[Je]!="string"){const ye={instancePath:s+"/command/"+Je,schemaPath:"#/oneOf/26/properties/command/anyOf/1/items/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[ye]:r.push(ye),e++}var jt=be===e;if(!jt)break}}else{const qe={instancePath:s+"/command",schemaPath:"#/oneOf/26/properties/command/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};r===null?r=[qe]:r.push(qe),e++}var ut=me===e;w=w||ut}if(w)e=n,r!==null&&(n?r.length=n:r=null);else{const me={instancePath:s+"/command",schemaPath:"#/oneOf/26/properties/command/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return r===null?r=[me]:r.push(me),e++,o.errors=r,!1}var je=y===e}else var je=!0;if(je)if(t.wpCliPath!==void 0){const d=e;if(typeof t.wpCliPath!="string")return o.errors=[{instancePath:s+"/wpCliPath",schemaPath:"#/oneOf/26/properties/wpCliPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var je=d===e}else var je=!0}}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/26/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else if(Q==="setSiteLanguage"){if(e===e)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.language===void 0&&(u="language")||t.step===void 0&&(u="step"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/27/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const R=e;for(const a in t)if(!(a==="progress"||a==="step"||a==="language"))return o.errors=[{instancePath:s,schemaPath:"#/oneOf/27/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:a},message:"must NOT have additional properties"}],!1;if(R===e){if(t.progress!==void 0){let a=t.progress;const c=e;if(e===c)if(a&&typeof a=="object"&&!Array.isArray(a)){const y=e;for(const n in a)if(!(n==="weight"||n==="caption"))return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/27/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"}],!1;if(y===e){if(a.weight!==void 0){let n=a.weight;const w=e;if(!(typeof n=="number"&&isFinite(n)))return o.errors=[{instancePath:s+"/progress/weight",schemaPath:"#/oneOf/27/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Qe=w===e}else var Qe=!0;if(Qe)if(a.caption!==void 0){const n=e;if(typeof a.caption!="string")return o.errors=[{instancePath:s+"/progress/caption",schemaPath:"#/oneOf/27/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Qe=n===e}else var Qe=!0}}else return o.errors=[{instancePath:s+"/progress",schemaPath:"#/oneOf/27/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Se=c===e}else var Se=!0;if(Se){if(t.step!==void 0){let c=t.step;const d=e;if(typeof c!="string")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/27/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(c!=="setSiteLanguage")return o.errors=[{instancePath:s+"/step",schemaPath:"#/oneOf/27/properties/step/const",keyword:"const",params:{allowedValue:"setSiteLanguage"},message:"must be equal to constant"}],!1;var Se=d===e}else var Se=!0;if(Se)if(t.language!==void 0){const c=e;if(typeof t.language!="string")return o.errors=[{instancePath:s+"/language",schemaPath:"#/oneOf/27/properties/language/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Se=c===e}else var Se=!0}}}}else return o.errors=[{instancePath:s,schemaPath:"#/oneOf/27/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1}else return o.errors=[{instancePath:s,schemaPath:"#/discriminator",keyword:"discriminator",params:{error:"mapping",tag:"step",tagValue:Q},message:'value of tag "step" must be in oneOf'}],!1;else return o.errors=[{instancePath:s,schemaPath:"#/discriminator",keyword:"discriminator",params:{error:"tag",tag:"step",tagValue:Q},message:'tag "step" must be string'}],!1}}else return o.errors=[{instancePath:s,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return o.errors=r,e===0}function H(t,{instancePath:s="",parentData:i,parentDataProperty:p,rootData:l=t}={}){let r=null,e=0;if(e===0)if(t&&typeof t=="object"&&!Array.isArray(t)){const N=e;for(const I in t)if(!as.call(vr.properties,I))return H.errors=[{instancePath:s,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;if(N===e){if(t.landingPage!==void 0){const I=e;if(typeof t.landingPage!="string")return H.errors=[{instancePath:s+"/landingPage",schemaPath:"#/properties/landingPage/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=I===e}else var f=!0;if(f){if(t.description!==void 0){const v=e;if(typeof t.description!="string")return H.errors=[{instancePath:s+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=v===e}else var f=!0;if(f){if(t.meta!==void 0){let W=t.meta;const q=e;if(e===q)if(W&&typeof W=="object"&&!Array.isArray(W)){let S;if(W.title===void 0&&(S="title")||W.author===void 0&&(S="author"))return H.errors=[{instancePath:s+"/meta",schemaPath:"#/properties/meta/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"}],!1;{const D=e;for(const j in W)if(!(j==="title"||j==="description"||j==="author"||j==="categories"))return H.errors=[{instancePath:s+"/meta",schemaPath:"#/properties/meta/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:j},message:"must NOT have additional properties"}],!1;if(D===e){if(W.title!==void 0){const j=e;if(typeof W.title!="string")return H.errors=[{instancePath:s+"/meta/title",schemaPath:"#/properties/meta/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=j===e}else var m=!0;if(m){if(W.description!==void 0){const g=e;if(typeof W.description!="string")return H.errors=[{instancePath:s+"/meta/description",schemaPath:"#/properties/meta/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=g===e}else var m=!0;if(m){if(W.author!==void 0){const h=e;if(typeof W.author!="string")return H.errors=[{instancePath:s+"/meta/author",schemaPath:"#/properties/meta/properties/author/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var m=h===e}else var m=!0;if(m)if(W.categories!==void 0){let h=W.categories;const L=e;if(e===L)if(Array.isArray(h)){var A=!0;const E=h.length;for(let U=0;U<E;U++){const $=e;if(typeof h[U]!="string")return H.errors=[{instancePath:s+"/meta/categories/"+U,schemaPath:"#/properties/meta/properties/categories/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var A=$===e;if(!A)break}}else return H.errors=[{instancePath:s+"/meta/categories",schemaPath:"#/properties/meta/properties/categories/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var m=L===e}else var m=!0}}}}}else return H.errors=[{instancePath:s+"/meta",schemaPath:"#/properties/meta/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=q===e}else var f=!0;if(f){if(t.preferredVersions!==void 0){let q=t.preferredVersions;const C=e;if(e===C)if(q&&typeof q=="object"&&!Array.isArray(q)){let D;if(q.php===void 0&&(D="php")||q.wp===void 0&&(D="wp"))return H.errors=[{instancePath:s+"/preferredVersions",schemaPath:"#/properties/preferredVersions/required",keyword:"required",params:{missingProperty:D},message:"must have required property '"+D+"'"}],!1;{const j=e;for(const g in q)if(!(g==="php"||g==="wp"))return H.errors=[{instancePath:s+"/preferredVersions",schemaPath:"#/properties/preferredVersions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:g},message:"must NOT have additional properties"}],!1;if(j===e){if(q.php!==void 0){let g=q.php;const h=e,L=e;let k=!1;const E=e;if(typeof g!="string"){const $={instancePath:s+"/preferredVersions/php",schemaPath:"#/definitions/SupportedPHPVersion/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[$]:r.push($),e++}if(!(g==="8.3"||g==="8.2"||g==="8.1"||g==="8.0"||g==="7.4"||g==="7.3"||g==="7.2"||g==="7.1"||g==="7.0")){const $={instancePath:s+"/preferredVersions/php",schemaPath:"#/definitions/SupportedPHPVersion/enum",keyword:"enum",params:{allowedValues:kr.enum},message:"must be equal to one of the allowed values"};r===null?r=[$]:r.push($),e++}var T=E===e;if(k=k||T,!k){const $=e;if(typeof g!="string"){const z={instancePath:s+"/preferredVersions/php",schemaPath:"#/properties/preferredVersions/properties/php/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[z]:r.push(z),e++}if(g!=="latest"){const z={instancePath:s+"/preferredVersions/php",schemaPath:"#/properties/preferredVersions/properties/php/anyOf/1/const",keyword:"const",params:{allowedValue:"latest"},message:"must be equal to constant"};r===null?r=[z]:r.push(z),e++}var T=$===e;k=k||T}if(k)e=L,r!==null&&(L?r.length=L:r=null);else{const $={instancePath:s+"/preferredVersions/php",schemaPath:"#/properties/preferredVersions/properties/php/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return r===null?r=[$]:r.push($),e++,H.errors=r,!1}var b=h===e}else var b=!0;if(b)if(q.wp!==void 0){const g=e;if(typeof q.wp!="string")return H.errors=[{instancePath:s+"/preferredVersions/wp",schemaPath:"#/properties/preferredVersions/properties/wp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=g===e}else var b=!0}}}else return H.errors=[{instancePath:s+"/preferredVersions",schemaPath:"#/properties/preferredVersions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=C===e}else var f=!0;if(f){if(t.features!==void 0){let C=t.features;const S=e;if(e===S)if(C&&typeof C=="object"&&!Array.isArray(C)){const j=e;for(const g in C)if(g!=="networking")return H.errors=[{instancePath:s+"/features",schemaPath:"#/properties/features/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:g},message:"must NOT have additional properties"}],!1;if(j===e&&C.networking!==void 0&&typeof C.networking!="boolean")return H.errors=[{instancePath:s+"/features/networking",schemaPath:"#/properties/features/properties/networking/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1}else return H.errors=[{instancePath:s+"/features",schemaPath:"#/properties/features/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=S===e}else var f=!0;if(f){if(t.extraLibraries!==void 0){let S=t.extraLibraries;const D=e;if(e===D)if(Array.isArray(S)){var O=!0;const g=S.length;for(let h=0;h<g;h++){let L=S[h];const k=e;if(typeof L!="string")return H.errors=[{instancePath:s+"/extraLibraries/"+h,schemaPath:"#/definitions/ExtraLibrary/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(L!=="wp-cli")return H.errors=[{instancePath:s+"/extraLibraries/"+h,schemaPath:"#/definitions/ExtraLibrary/const",keyword:"const",params:{allowedValue:"wp-cli"},message:"must be equal to constant"}],!1;var O=k===e;if(!O)break}}else return H.errors=[{instancePath:s+"/extraLibraries",schemaPath:"#/properties/extraLibraries/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var f=D===e}else var f=!0;if(f){if(t.constants!==void 0){let D=t.constants;const j=e;if(e===j)if(D&&typeof D=="object"&&!Array.isArray(D))for(const h in D){const L=e;if(typeof D[h]!="string")return H.errors=[{instancePath:s+"/constants/"+h.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constants/additionalProperties/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=L===e;if(!X)break}else return H.errors=[{instancePath:s+"/constants",schemaPath:"#/properties/constants/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=j===e}else var f=!0;if(f){if(t.plugins!==void 0){let j=t.plugins;const g=e;if(e===g)if(Array.isArray(j)){var G=!0;const L=j.length;for(let k=0;k<L;k++){let E=j[k];const U=e,$=e;let F=!1;const z=e;if(typeof E!="string"){const x={instancePath:s+"/plugins/"+k,schemaPath:"#/properties/plugins/items/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[x]:r.push(x),e++}var V=z===e;if(F=F||V,!F){const x=e;te(E,{instancePath:s+"/plugins/"+k,parentData:j,parentDataProperty:k,rootData:l})||(r=r===null?te.errors:r.concat(te.errors),e=r.length);var V=x===e;F=F||V}if(F)e=$,r!==null&&($?r.length=$:r=null);else{const x={instancePath:s+"/plugins/"+k,schemaPath:"#/properties/plugins/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return r===null?r=[x]:r.push(x),e++,H.errors=r,!1}var G=U===e;if(!G)break}}else return H.errors=[{instancePath:s+"/plugins",schemaPath:"#/properties/plugins/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var f=g===e}else var f=!0;if(f){if(t.siteOptions!==void 0){let g=t.siteOptions;const h=e;if(e===h)if(g&&typeof g=="object"&&!Array.isArray(g)){const k=e;for(const E in g)if(E!=="blogname"){const U=e;if(typeof g[E]!="string")return H.errors=[{instancePath:s+"/siteOptions/"+E.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/siteOptions/additionalProperties/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ae=U===e;if(!ae)break}if(k===e&&g.blogname!==void 0&&typeof g.blogname!="string")return H.errors=[{instancePath:s+"/siteOptions/blogname",schemaPath:"#/properties/siteOptions/properties/blogname/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}else return H.errors=[{instancePath:s+"/siteOptions",schemaPath:"#/properties/siteOptions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=h===e}else var f=!0;if(f){if(t.login!==void 0){let h=t.login;const L=e,k=e;let E=!1;const U=e;if(typeof h!="boolean"){const F={instancePath:s+"/login",schemaPath:"#/properties/login/anyOf/0/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};r===null?r=[F]:r.push(F),e++}var ie=U===e;if(E=E||ie,!E){const F=e;if(e===F)if(h&&typeof h=="object"&&!Array.isArray(h)){let Y;if(h.username===void 0&&(Y="username")||h.password===void 0&&(Y="password")){const x={instancePath:s+"/login",schemaPath:"#/properties/login/anyOf/1/required",keyword:"required",params:{missingProperty:Y},message:"must have required property '"+Y+"'"};r===null?r=[x]:r.push(x),e++}else{const x=e;for(const B in h)if(!(B==="username"||B==="password")){const K={instancePath:s+"/login",schemaPath:"#/properties/login/anyOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties"};r===null?r=[K]:r.push(K),e++;break}if(x===e){if(h.username!==void 0){const B=e;if(typeof h.username!="string"){const Z={instancePath:s+"/login/username",schemaPath:"#/properties/login/anyOf/1/properties/username/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[Z]:r.push(Z),e++}var J=B===e}else var J=!0;if(J)if(h.password!==void 0){const B=e;if(typeof h.password!="string"){const Z={instancePath:s+"/login/password",schemaPath:"#/properties/login/anyOf/1/properties/password/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[Z]:r.push(Z),e++}var J=B===e}else var J=!0}}}else{const Y={instancePath:s+"/login",schemaPath:"#/properties/login/anyOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};r===null?r=[Y]:r.push(Y),e++}var ie=F===e;E=E||ie}if(E)e=k,r!==null&&(k?r.length=k:r=null);else{const F={instancePath:s+"/login",schemaPath:"#/properties/login/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return r===null?r=[F]:r.push(F),e++,H.errors=r,!1}var f=L===e}else var f=!0;if(f){if(t.phpExtensionBundles!==void 0){let L=t.phpExtensionBundles;const k=e;if(e===k)if(Array.isArray(L)){var M=!0;const U=L.length;for(let $=0;$<U;$++){let F=L[$];const z=e;if(typeof F!="string")return H.errors=[{instancePath:s+"/phpExtensionBundles/"+$,schemaPath:"#/definitions/SupportedPHPExtensionBundle/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(F==="kitchen-sink"||F==="light"))return H.errors=[{instancePath:s+"/phpExtensionBundles/"+$,schemaPath:"#/definitions/SupportedPHPExtensionBundle/enum",keyword:"enum",params:{allowedValues:Or.enum},message:"must be equal to one of the allowed values"}],!1;var M=z===e;if(!M)break}}else return H.errors=[{instancePath:s+"/phpExtensionBundles",schemaPath:"#/properties/phpExtensionBundles/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var f=k===e}else var f=!0;if(f){if(t.steps!==void 0){let k=t.steps;const E=e;if(e===E)if(Array.isArray(k)){var _=!0;const $=k.length;for(let F=0;F<$;F++){let z=k[F];const Y=e,x=e;let B=!1;const K=e;o(z,{instancePath:s+"/steps/"+F,parentData:k,parentDataProperty:F,rootData:l})||(r=r===null?o.errors:r.concat(o.errors),e=r.length);var P=K===e;if(B=B||P,!B){const ee=e;if(typeof z!="string"){const re={instancePath:s+"/steps/"+F,schemaPath:"#/properties/steps/items/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};r===null?r=[re]:r.push(re),e++}var P=ee===e;if(B=B||P,!B){const re=e,oe={instancePath:s+"/steps/"+F,schemaPath:"#/properties/steps/items/anyOf/2/not",keyword:"not",params:{},message:"must NOT be valid"};r===null?r=[oe]:r.push(oe),e++;var P=re===e;if(B=B||P,!B){const Ie=e;if(typeof z!="boolean"){const fe={instancePath:s+"/steps/"+F,schemaPath:"#/properties/steps/items/anyOf/3/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};r===null?r=[fe]:r.push(fe),e++}if(z!==!1){const fe={instancePath:s+"/steps/"+F,schemaPath:"#/properties/steps/items/anyOf/3/const",keyword:"const",params:{allowedValue:!1},message:"must be equal to constant"};r===null?r=[fe]:r.push(fe),e++}var P=Ie===e;if(B=B||P,!B){const fe=e;if(z!==null){const Ee={instancePath:s+"/steps/"+F,schemaPath:"#/properties/steps/items/anyOf/4/type",keyword:"type",params:{type:"null"},message:"must be null"};r===null?r=[Ee]:r.push(Ee),e++}var P=fe===e;B=B||P}}}}if(B)e=x,r!==null&&(x?r.length=x:r=null);else{const ee={instancePath:s+"/steps/"+F,schemaPath:"#/properties/steps/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return r===null?r=[ee]:r.push(ee),e++,H.errors=r,!1}var _=Y===e;if(!_)break}}else return H.errors=[{instancePath:s+"/steps",schemaPath:"#/properties/steps/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var f=E===e}else var f=!0;if(f)if(t.$schema!==void 0){const k=e;if(typeof t.$schema!="string")return H.errors=[{instancePath:s+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=k===e}else var f=!0}}}}}}}}}}}}}else return H.errors=[{instancePath:s,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return H.errors=r,e===0}function et(t,{instancePath:s="",parentData:i,parentDataProperty:p,rootData:l=t}={}){let r=null,e=0;return H(t,{instancePath:s,parentData:i,parentDataProperty:p,rootData:l})||(r=r===null?H.errors:r.concat(H.errors),e=r.length),et.errors=r,e===0}const{wpCLI:Er,...St}=rr,$r={...St,"wp-cli":Er,importFile:St.importWxr};function Tr(t,{progress:s=new ft,semaphore:i=new ys({concurrency:3}),onStepCompleted:p=()=>{}}={}){var l,r,e,f,m,A,T,b,O;t={...t,steps:(t.steps||[]).filter(Lr).filter(Rr)};for(const _ of t.steps)typeof _=="object"&&_.step==="importFile"&&(_.step="importWxr",ce.warn('The "importFile" step is deprecated. Use "importWxr" instead.'));if(t.constants&&t.steps.unshift({step:"defineWpConfigConsts",consts:t.constants}),t.siteOptions&&t.steps.unshift({step:"setSiteOptions",options:t.siteOptions}),t.plugins){const _=t.plugins.map(P=>typeof P=="string"?P.startsWith("https://")?{resource:"url",url:P}:{resource:"wordpress.org/plugins",slug:P}:P).map(P=>({step:"installPlugin",pluginZipFile:P}));t.steps.unshift(..._)}t.login&&t.steps.push({step:"login",...t.login===!0?{username:"admin",password:"password"}:t.login}),t.phpExtensionBundles||(t.phpExtensionBundles=[]),t.phpExtensionBundles||(t.phpExtensionBundles=[]),t.phpExtensionBundles.length===0&&t.phpExtensionBundles.push("kitchen-sink");const X=((l=t.steps)==null?void 0:l.findIndex(_=>typeof _=="object"&&(_==null?void 0:_.step)==="wp-cli"))??-1;if((r=t==null?void 0:t.extraLibraries)!=null&&r.includes("wp-cli")||X>-1){t.phpExtensionBundles.includes("light")&&(t.phpExtensionBundles=t.phpExtensionBundles.filter(P=>P!=="light"),ce.warn("WP-CLI is used in your Blueprint, and it requires the iconv and mbstring PHP extensions. However, you did not specify the kitchen-sink extension bundle. Playground will override your choice and load the kitchen-sink PHP extensions bundle to prevent the WP-CLI step from failing. "));const _={step:"writeFile",data:{resource:"url",url:"https://playground.wordpress.net/wp-cli.phar"},path:"/tmp/wp-cli.phar"};X===-1?(e=t.steps)==null||e.push(_):(f=t.steps)==null||f.splice(X,0,_)}const G=(m=t.steps)==null?void 0:m.findIndex(_=>typeof _=="object"&&(_==null?void 0:_.step)==="importWxr");G!==void 0&&G>-1&&(t.phpExtensionBundles.includes("light")&&(t.phpExtensionBundles=t.phpExtensionBundles.filter(_=>_!=="light"),ce.warn("The importWxr step used in your Blueprint requires the iconv and mbstring PHP extensions. However, you did not specify the kitchen-sink extension bundle. Playground will override your choice and load the kitchen-sink PHP extensions bundle to prevent the WP-CLI step from failing. ")),(A=t.steps)==null||A.splice(G,0,{step:"installPlugin",pluginZipFile:{resource:"url",url:"https://playground.wordpress.net/wordpress-importer.zip",caption:"Downloading the WordPress Importer plugin"}}));const{valid:V,errors:ae}=jr(t);if(!V){const _=new Error(`Invalid blueprint: ${ae[0].message} at ${ae[0].instancePath}`);throw _.errors=ae,_}const ie=t.steps||[],J=ie.reduce((_,P)=>{var N;return _+(((N=P.progress)==null?void 0:N.weight)||1)},0),M=ie.map(_=>Sr(_,{semaphore:i,rootProgressTracker:s,totalProgressWeight:J}));return{versions:{php:Ar((T=t.preferredVersions)==null?void 0:T.php,es,cr),wp:((b=t.preferredVersions)==null?void 0:b.wp)||"latest"},phpExtensions:qr([],t.phpExtensionBundles||[]),features:{networking:((O=t.features)==null?void 0:O.networking)??!1},extraLibraries:t.extraLibraries||[],run:async _=>{try{for(const{resources:P}of M)for(const N of P)N.setPlayground(_),N.isAsync&&N.resolve();for(const[P,{run:N,step:I}]of Object.entries(M))try{const v=await N(_);p(v,I)}catch(v){throw ce.error(v),new Error(`Error when executing the blueprint step #${P} (${JSON.stringify(I)}) ${v instanceof Error?`: ${v.message}`:v}`,{cause:v})}}finally{try{await _.goTo(t.landingPage||"/")}catch{}s.finish()}}}}function jr(t){var s;const i=et(t);if(i)return{valid:i};const p=new Set;for(const r of et.errors)r.schemaPath.startsWith("#/properties/steps/items/anyOf")||p.add(r.instancePath);const l=(s=et.errors)==null?void 0:s.filter(r=>!(r.schemaPath.startsWith("#/properties/steps/items/anyOf")&&p.has(r.instancePath)));return{valid:i,errors:l}}function Ar(t,s,i){return t&&s.includes(t)?t:i}function qr(t,s){const i=ts.filter(l=>t.includes(l)),p=s.flatMap(l=>l in Rt?Rt[l]:[]);return Array.from(new Set([...i,...p]))}function Lr(t){return!!(typeof t=="object"&&t)}function Rr(t){return["setPhpIniEntry","request"].includes(t.step)?(ce.warn(`The "${t.step}" Blueprint is no longer supported and you can remove it from your Blueprint.`),!1):!0}function Sr(t,{semaphore:s,rootProgressTracker:i,totalProgressWeight:p}){var l;const r=i.stage((((l=t.progress)==null?void 0:l.weight)||1)/p),e={};for(const b of Object.keys(t)){let O=t[b];ur(O)&&(O=De.create(O,{semaphore:s})),e[b]=O}const f=async b=>{var O;try{return r.fillSlowly(),await $r[t.step](b,await Fr(e),{tracker:r,initialCaption:(O=t.progress)==null?void 0:O.caption})}finally{r.finish()}},m=Ft(e),A=Ft(e).filter(b=>b.isAsync),T=1/(A.length+1);for(const b of A)b.progress=r.stage(T);return{run:f,step:t,resources:m}}function Ft(t){const s=[];for(const i in t){const p=t[i];p instanceof De&&s.push(p)}return s}async function Fr(t){const s={};for(const i in t){const p=t[i];p instanceof De?s[i]=await p.resolve():s[i]=p}return s}async function xr(t,s){await t.run(s)}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const os=Symbol("Comlink.proxy"),Nr=Symbol("Comlink.endpoint"),Cr=Symbol("Comlink.releaseProxy"),Pt=Symbol("Comlink.finalizer"),tt=Symbol("Comlink.thrown"),ns=t=>typeof t=="object"&&t!==null||typeof t=="function",Dr={canHandle:t=>ns(t)&&t[os],serialize(t){const{port1:s,port2:i}=new MessageChannel;return $t(t,s),[i,[i]]},deserialize(t){return t.start(),Tt(t)}},Ir={canHandle:t=>ns(t)&&tt in t,serialize({value:t}){let s;return t instanceof Error?s={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:s={isError:!1,value:t},[s,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},Ue=new Map([["proxy",Dr],["throw",Ir]]);function Wr(t,s){for(const i of t)if(s===i||i==="*"||i instanceof RegExp&&i.test(s))return!0;return!1}function $t(t,s=globalThis,i=["*"]){s.addEventListener("message",function p(l){if(!l||!l.data)return;if(!Wr(i,l.origin)){console.warn(`Invalid origin '${l.origin}' for comlink proxy`);return}const{id:r,type:e,path:f}=Object.assign({path:[]},l.data),m=(l.data.argumentList||[]).map(Ce);let A;try{const T=f.slice(0,-1).reduce((O,X)=>O[X],t),b=f.reduce((O,X)=>O[X],t);switch(e){case"GET":A=b;break;case"SET":T[f.slice(-1)[0]]=Ce(l.data.value),A=!0;break;case"APPLY":A=b.apply(T,m);break;case"CONSTRUCT":{const O=new b(...m);A=fs(O)}break;case"ENDPOINT":{const{port1:O,port2:X}=new MessageChannel;$t(t,X),A=Vr(O,[O])}break;case"RELEASE":A=void 0;break;default:return}}catch(T){A={value:T,[tt]:0}}Promise.resolve(A).catch(T=>({value:T,[tt]:0})).then(T=>{const[b,O]=pt(T);s.postMessage(Object.assign(Object.assign({},b),{id:r}),O),e==="RELEASE"&&(s.removeEventListener("message",p),ps(s),Pt in t&&typeof t[Pt]=="function"&&t[Pt]())}).catch(T=>{const[b,O]=pt({value:new TypeError("Unserializable return value"),[tt]:0});s.postMessage(Object.assign(Object.assign({},b),{id:r}),O)})}),s.start&&s.start()}function Ur(t){return t.constructor.name==="MessagePort"}function ps(t){Ur(t)&&t.close()}function Tt(t,s){return kt(t,[],s)}function Xe(t){if(t)throw new Error("Proxy has been released and is not useable")}function ls(t){return We(t,{type:"RELEASE"}).then(()=>{ps(t)})}const ot=new WeakMap,nt="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const s=(ot.get(t)||0)-1;ot.set(t,s),s===0&&ls(t)});function Mr(t,s){const i=(ot.get(s)||0)+1;ot.set(s,i),nt&&nt.register(t,s,t)}function Br(t){nt&&nt.unregister(t)}function kt(t,s=[],i=function(){}){let p=!1;const l=new Proxy(i,{get(r,e){if(Xe(p),e===Cr)return()=>{Br(l),ls(t),p=!0};if(e==="then"){if(s.length===0)return{then:()=>l};const f=We(t,{type:"GET",path:s.map(m=>m.toString())}).then(Ce);return f.then.bind(f)}return kt(t,[...s,e])},set(r,e,f){Xe(p);const[m,A]=pt(f);return We(t,{type:"SET",path:[...s,e].map(T=>T.toString()),value:m},A).then(Ce)},apply(r,e,f){Xe(p);const m=s[s.length-1];if(m===Nr)return We(t,{type:"ENDPOINT"}).then(Ce);if(m==="bind")return kt(t,s.slice(0,-1));const[A,T]=xt(f);return We(t,{type:"APPLY",path:s.map(b=>b.toString()),argumentList:A},T).then(Ce)},construct(r,e){Xe(p);const[f,m]=xt(e);return We(t,{type:"CONSTRUCT",path:s.map(A=>A.toString()),argumentList:f},m).then(Ce)}});return Mr(l,t),l}function zr(t){return Array.prototype.concat.apply([],t)}function xt(t){const s=t.map(pt);return[s.map(i=>i[0]),zr(s.map(i=>i[1]))]}const cs=new WeakMap;function Vr(t,s){return cs.set(t,s),t}function fs(t){return Object.assign(t,{[os]:!0})}function Hr(t,s=globalThis,i="*"){return{postMessage:(p,l)=>t.postMessage(p,i,l),addEventListener:s.addEventListener.bind(s),removeEventListener:s.removeEventListener.bind(s)}}function pt(t){for(const[s,i]of Ue)if(i.canHandle(t)){const[p,l]=i.serialize(t);return[{type:"HANDLER",name:s,value:p},l]}return[{type:"RAW",value:t},cs.get(t)||[]]}function Ce(t){switch(t.type){case"HANDLER":return Ue.get(t.name).deserialize(t.value);case"RAW":return t.value}}function We(t,s,i){return new Promise(p=>{const l=Gr();t.addEventListener("message",function r(e){!e.data||!e.data.id||e.data.id!==l||(t.removeEventListener("message",r),p(e.data))}),t.start&&t.start(),t.postMessage(Object.assign({id:l},s),i)})}function Gr(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}function Yr(t,s=void 0){Qr();const i=t instanceof Worker?t:Hr(t,s),p=Tt(i),l=us(p);return new Proxy(l,{get:(r,e)=>e==="isConnected"?async()=>{for(;;)try{await Zr(p.isConnected(),200);break}catch{}}:p[e]})}async function Zr(t,s){return new Promise((i,p)=>{setTimeout(p,s),t.then(i)})}let Nt=!1;function Qr(){if(Nt)return;Nt=!0,Ue.set("EVENT",{canHandle:i=>i instanceof CustomEvent,serialize:i=>[{detail:i.detail},[]],deserialize:i=>i}),Ue.set("FUNCTION",{canHandle:i=>typeof i=="function",serialize(i){const{port1:p,port2:l}=new MessageChannel;return $t(i,p),[l,[l]]},deserialize(i){return i.start(),Tt(i)}}),Ue.set("PHPResponse",{canHandle:i=>typeof i=="object"&&i!==null&&"headers"in i&&"bytes"in i&&"errors"in i&&"exitCode"in i&&"httpStatusCode"in i,serialize(i){return[i.toRawData(),[]]},deserialize(i){return it.fromRawData(i)}});const t=Ue.get("throw"),s=t==null?void 0:t.serialize;t.serialize=({value:i})=>{const p=s({value:i});return i.response&&(p[0].value.response=i.response),i.source&&(p[0].value.source=i.source),p}}function us(t){return new Proxy(t,{get(s,i){switch(typeof s[i]){case"function":return(...p)=>s[i](...p);case"object":return s[i]===null?s[i]:us(s[i]);case"undefined":case"number":case"string":return s[i];default:return fs(s[i])}}})}new Promise(t=>{});async function Jr({iframe:t,blueprint:s,remoteUrl:i,progressTracker:p=new ft,disableProgressBar:l,onBlueprintStepCompleted:r,onClientConnected:e=()=>{},sapiName:f,onBeforeBlueprint:m,mounts:A,shouldInstallWordPress:T}){Xr(i),Kr(t),i=ea(i,{progressbar:!l}),p.setCaption("Preparing WordPress"),s||(s={phpExtensionBundles:["kitchen-sink"]});const b=Tr(s,{progress:p.stage(.5),onStepCompleted:r});await new Promise(G=>{t.src=i,t.addEventListener("load",G,!1)});const O=Yr(t.contentWindow,t.ownerDocument.defaultView);await O.isConnected(),p.pipe(O);const X=p.stage();return await O.onDownloadProgress(X.loadingListener),await O.boot({mounts:A,sapiName:f,shouldInstallWordPress:T,phpVersion:b.versions.php,wpVersion:b.versions.wp,phpExtensions:b.phpExtensions,withNetworking:b.features.networking}),await O.isReady(),X.finish(),As(ce,O),e(O),m&&await m(),await xr(b,O),p.finish(),O}function Kr(t){var s,i;(s=t.sandbox)!=null&&s.length&&!((i=t.sandbox)!=null&&i.contains("allow-storage-access-by-user-activation"))&&t.sandbox.add("allow-storage-access-by-user-activation")}const st="https://playground.wordpress.net";function Xr(t){const s=new URL(t,st);if((s.origin===st||s.hostname==="localhost")&&s.pathname!=="/remote.html")throw new Error(`Invalid remote URL: ${s}. Expected origin to be ${st}/remote.html.`)}function ea(t,s){const i=new URL(t,st),p=new URLSearchParams(i.search);for(const[l,r]of Object.entries(s))if(r!=null&&r!==!1)if(Array.isArray(r))for(const e of r)p.append(l,e.toString());else p.set(l,r.toString());return i.search=p.toString(),i.toString()}async function ta(){const t=document.getElementById("root"),s=sa(t),p=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"'dark'":"'light'";await Jr({iframe:s,remoteUrl:"https://playground.wordpress.net/remote.html",blueprint:{landingPage:"/wp-admin/",preferredVersions:{php:"8.0",wp:"latest"},steps:[{step:"runPHP",code:`<?php require_once 'wordpress/wp-load.php'; update_option('fbwpmdp_theme', ${p}); ?>`},{step:"login",username:"admin",password:"password"},{step:"setSiteOptions",options:{WPLANG:"en",permalink_structure:"/%postname%/",gp_enable_local_translation:1,gp_enable_inline_translation:1}},{step:"updateUserMeta",meta:{show_welcome_panel:"1"},userId:1},{step:"installPlugin",pluginZipFile:{resource:"wordpress.org/plugins",slug:"material-board"}}]}})}function sa(t){const s=document.createElement("iframe");return s.title="Playground Viewport",s.className="playground__viewport--full-size",t.appendChild(s),s}ta();
